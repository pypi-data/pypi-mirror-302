import{q as Ue}from"../chunks/helpers.104fd343.js";import{s as Be,f as c,l as te,a as y,g as u,h as m,m as ae,d as f,c as C,Z as J,j as d,i as Qe,B as a,I as he,n as Oe,P as Re,r as ge}from"../chunks/scheduler.398aa708.js";import{S as He,i as Me,b as se,d as ne,m as le,t as I,c as we,a as E,e as re,g as qe}from"../chunks/index.d57ec5a8.js";import{S as Le}from"../chunks/SimpleTable.5cbf1e41.js";import{r as xe}from"../chunks/singletons.1f51f3a9.js";import{V as Ze}from"../chunks/VegaLite.9ee7ef45.js";import{I as ze,P as Ae}from"../chunks/Icon.c5962984.js";import{g as Fe}from"../chunks/stores.320a51a4.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.ce11150a.js";const Ge=async({fetch:n,params:e})=>{const{run:l,measurements:t}=await Ue(n,e.id);return{testrun:l,measurements:t,name:e.id}},ct=Object.freeze(Object.defineProperty({__proto__:null,load:Ge},Symbol.toStringTag,{value:"Module"}));function Je(n){let e,l="No Testrun data available.";return{c(){e=c("p"),e.textContent=l},l(t){e=u(t,"P",{"data-svelte-h":!0}),J(e)!=="svelte-eigvvv"&&(e.textContent=l)},m(t,o){Qe(t,e,o)},p:ge,i:ge,o:ge,d(t){t&&f(e)}}}function Ke(n){let e,l;return e=new Le({props:{data:xe(n[0].measurements)}}),{c(){se(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,o){le(e,t,o),l=!0},p(t,o){const v={};o&1&&(v.data=xe(t[0].measurements)),e.$set(v)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function je(n){let e,l;return e=new Ze({props:{data:n[1],spec:n[0].testrun.data.vega_lite,options:n[3]}}),{c(){se(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,o){le(e,t,o),l=!0},p(t,o){const v={};o&1&&(v.spec=t[0].testrun.data.vega_lite),e.$set(v)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function We(n){var Te,ke;let e,l,t,o,v,S=n[0].name+"",x,H,h,z="Export",M,T,k,A,oe,L=((Te=n[0].testrun.data)==null?void 0:Te.quality)+"",K,ie,$,Z,N,ce,j,$e="Edit",ue,D,p,_,fe,g,V,be="Visualizations",me,F,b,G,O,de,Q,ye="Edit",W,pe,w,_e,Ce;N=new ze({props:{size:"12",src:Ae}});const Ee=[Ke,Je],P=[];function Se(s,i){return s[0].measurements.length>0?0:1}p=Se(n),_=P[p]=Ee[p](n),O=new ze({props:{size:"12",src:Ae}});let r=n[0].measurements.length>0&&n[2]&&((ke=n[0].testrun.data)==null?void 0:ke.vega_lite)&&je(n);return{c(){e=c("div"),l=c("section"),t=c("div"),o=c("h1"),v=te("Testrun "),x=te(S),H=y(),h=c("button"),h.textContent=z,M=y(),T=c("section"),k=c("div"),A=c("p"),oe=te("Result data quality: "),K=te(L),ie=y(),$=c("button"),Z=c("span"),se(N.$$.fragment),ce=y(),j=c("span"),j.textContent=$e,ue=y(),D=c("section"),_.c(),fe=y(),g=c("section"),V=c("h2"),V.textContent=be,me=y(),F=c("div"),b=c("a"),G=c("span"),se(O.$$.fragment),de=y(),Q=c("span"),Q.textContent=ye,pe=y(),r&&r.c(),this.h()},l(s){e=u(s,"DIV",{class:!0});var i=m(e);l=u(i,"SECTION",{class:!0});var U=m(l);t=u(U,"DIV",{class:!0});var q=m(t);o=u(q,"H1",{class:!0});var B=m(o);v=ae(B,"Testrun "),x=ae(B,S),B.forEach(f),H=C(q),h=u(q,"BUTTON",{class:!0,"data-svelte-h":!0}),J(h)!=="svelte-pewlmc"&&(h.textContent=z),q.forEach(f),U.forEach(f),M=C(i),T=u(i,"SECTION",{class:!0});var Pe=m(T);k=u(Pe,"DIV",{class:!0});var X=m(k);A=u(X,"P",{});var ve=m(A);oe=ae(ve,"Result data quality: "),K=ae(ve,L),ve.forEach(f),ie=C(X),$=u(X,"BUTTON",{class:!0});var Y=m($);Z=u(Y,"SPAN",{});var Ie=m(Z);ne(N.$$.fragment,Ie),Ie.forEach(f),ce=C(Y),j=u(Y,"SPAN",{"data-svelte-h":!0}),J(j)!=="svelte-bi7592"&&(j.textContent=$e),Y.forEach(f),X.forEach(f),Pe.forEach(f),ue=C(i),D=u(i,"SECTION",{class:!0});var Ne=m(D);_.l(Ne),Ne.forEach(f),fe=C(i),g=u(i,"SECTION",{class:!0});var R=m(g);V=u(R,"H2",{class:!0,"data-svelte-h":!0}),J(V)!=="svelte-l5lk04"&&(V.textContent=be),me=C(R),F=u(R,"DIV",{});var De=m(F);b=u(De,"A",{class:!0,href:!0});var ee=m(b);G=u(ee,"SPAN",{});var Ve=m(G);ne(O.$$.fragment,Ve),Ve.forEach(f),de=C(ee),Q=u(ee,"SPAN",{"data-svelte-h":!0}),J(Q)!=="svelte-bi7592"&&(Q.textContent=ye),ee.forEach(f),De.forEach(f),pe=C(R),r&&r.l(R),R.forEach(f),i.forEach(f),this.h()},h(){d(o,"class","h1"),d(h,"class","btn variant-filled"),d(t,"class","flex justify-between"),d(l,"class","space-y-2"),d($,"class","chip variant-soft hover:variant-filled"),d(k,"class","flex space-x-2"),d(T,"class","space-y-2"),d(D,"class","space-y-2"),d(V,"class","h2"),d(b,"class","chip variant-soft hover:variant-filled"),d(b,"href",W="/chart_editor/"+n[0].testrun.id),d(g,"class","space-y-2"),d(e,"class","table-container mx-auto p-8 space-y-8")},m(s,i){Qe(s,e,i),a(e,l),a(l,t),a(t,o),a(o,v),a(o,x),a(t,H),a(t,h),a(e,M),a(e,T),a(T,k),a(k,A),a(A,oe),a(A,K),a(k,ie),a(k,$),a($,Z),le(N,Z,null),a($,ce),a($,j),a(e,ue),a(e,D),P[p].m(D,null),a(e,fe),a(e,g),a(g,V),a(g,me),a(g,F),a(F,b),a(b,G),le(O,G,null),a(b,de),a(b,Q),a(g,pe),r&&r.m(g,null),w=!0,_e||(Ce=[he(h,"click",Xe),he($,"click",n[4]),he($,"keypress",n[4])],_e=!0)},p(s,[i]){var q,B;(!w||i&1)&&S!==(S=s[0].name+"")&&Oe(x,S),(!w||i&1)&&L!==(L=((q=s[0].testrun.data)==null?void 0:q.quality)+"")&&Oe(K,L);let U=p;p=Se(s),p===U?P[p].p(s,i):(qe(),I(P[U],1,1,()=>{P[U]=null}),we(),_=P[p],_?_.p(s,i):(_=P[p]=Ee[p](s),_.c()),E(_,1),_.m(D,null)),(!w||i&1&&W!==(W="/chart_editor/"+s[0].testrun.id))&&d(b,"href",W),s[0].measurements.length>0&&s[2]&&((B=s[0].testrun.data)!=null&&B.vega_lite)?r?(r.p(s,i),i&1&&E(r,1)):(r=je(s),r.c(),E(r,1),r.m(g,null)):r&&(qe(),I(r,1,1,()=>{r=null}),we())},i(s){w||(E(N.$$.fragment,s),E(_),E(O.$$.fragment,s),E(r),w=!0)},o(s){I(N.$$.fragment,s),I(_),I(O.$$.fragment,s),I(r),w=!1},d(s){s&&f(e),re(N),P[p].d(),re(O),r&&r.d(),_e=!1,Re(Ce)}}}function Xe(n){}function Ye(n,e,l){var h;let{data:t}=e;const o={measurements:t.measurements},v=!!((h=t.testrun.data)!=null&&h.vega_lite),S=Fe();let x={theme:void 0,actions:{export:!0,source:!1,compiled:!0,editor:!1}};async function H(z){const M={type:"component",title:"Update Quality",body:"",meta:{testrun:t.testrun,method:"PUT"},component:"modalChangeDataQuality",response:async T=>{T&&S.close()}};S.trigger(M)}return n.$$set=z=>{"data"in z&&l(0,t=z.data)},[t,o,v,x,H]}class ut extends He{constructor(e){super(),Me(this,e,Ye,We,Be,{data:0})}}export{ut as component,ct as universal};
