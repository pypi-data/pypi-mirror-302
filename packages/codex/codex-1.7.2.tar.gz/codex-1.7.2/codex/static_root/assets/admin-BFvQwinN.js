import{_ as x,r as v,o as m,c as w,w as f,a as i,b as X,n as E,m as Y,u as re,p as B,d as J,g as I,e as F,f as D,h as W,F as P,i as A,j as ie,k as K,t as h,l as le,q as de,s as ce,v as Q,x as z,y as ue,z as me,A as $,B as j,C as be,D as fe,E as ve,G as we,H as pe}from"./main-BVKrDunc.js";import{S as ge,V as _e,a as he,b as ye}from"./settings-drawer-yVoY-WCS.js";import{A as Te,U as Ve,V as Se}from"./unauthorized-CEGD20tR.js";import{m as Ae,V as H,f as xe,a as Ce,s as ke,u as $e}from"./VDialog-Db4tJYqR.js";import{u as De,m as Pe,a as Be,b as Ie,c as We}from"./transition-DWVQ2EZ3.js";import{m as Le,V as M,a as Ue,b as G}from"./VWindowItem-CRqhVh-9.js";import{m as ze,V as q}from"./VSlideGroup-DRbthp6q.js";import"./VSelectionControl-CxhDNufT.js";import"./copy-to-clipboard-DoUvDJVx.js";import"./VTextField-X5yAw35c.js";import"./change-password-dialog-DJtOQw7K.js";const Ee={name:"AdminTitleToolbar",components:{SettingsDrawerButton:ge},computed:{mdAndDown(){return this.$vuetify.display.mdAndDown}}};function Me(e,a,l,t,n,r){const s=v("SettingsDrawerButton");return m(),w(he,{id:"titleBar",class:E(["codexToolbar",{drawerMargin:!r.mdAndDown}]),density:"compact",elevation:"8"},{default:f(()=>[i(_e,{class:"codexToolbarTitle"},{default:f(()=>a[0]||(a[0]=[X(" Codex Administration ")])),_:1}),(m(),w(s,{key:r.mdAndDown,class:E({invisible:!r.mdAndDown}),disabled:!r.mdAndDown},null,8,["class","disabled"]))]),_:1},8,["class"])}const Ge=x(Ee,[["render",Me],["__scopeId","data-v-355452b0"]]),Ne={name:"AdminSettingsPanel",components:{AdminBrowserLink:Te}};function Oe(e,a,l,t,n,r){const s=v("AdminBrowserLink");return m(),w(s)}const Re=x(Ne,[["render",Oe]]),Fe={name:"AdminSettingsDrawer",components:{SettingsDrawer:ye,AdminSettingsPanel:Re},computed:{mdAndDown(){return this.$vuetify.display.mdAndDown}},watch:{mdAndDown(e){e||this.setSettingsDrawerOpen(!0)}},mounted(){this.mdAndDown||this.setSettingsDrawerOpen(!0)},methods:{...Y(re,["setSettingsDrawerOpen"])}};function je(e,a,l,t,n,r){const s=v("AdminSettingsPanel"),o=v("SettingsDrawer");return m(),w(o,{title:"Admin",temporary:r.mdAndDown},{panel:f(()=>[i(s)]),_:1},8,["temporary"])}const He=x(Fe,[["render",je]]),N=Symbol.for("vuetify:v-tabs"),qe=B({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...J(Ae({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Z=I()({name:"VTab",props:qe(),setup(e,a){let{slots:l,attrs:t}=a;const{textColorClasses:n,textColorStyles:r}=De(e,"sliderColor"),s=F(),o=F(),u=D(()=>e.direction==="horizontal"),_=D(()=>{var p,d;return((d=(p=s.value)==null?void 0:p.group)==null?void 0:d.isSelected.value)??!1});function L(p){var c,g;let{value:d}=p;if(d){const b=(g=(c=s.value)==null?void 0:c.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),U=o.value;if(!b||!U)return;const ee=getComputedStyle(b).color,y=b.getBoundingClientRect(),T=U.getBoundingClientRect(),C=u.value?"x":"y",k=u.value?"X":"Y",O=u.value?"right":"bottom",V=u.value?"width":"height",te=y[C],ae=T[C],S=te>ae?y[O]-T[O]:y[C]-T[C],se=Math.sign(S)>0?u.value?"right":"bottom":Math.sign(S)<0?u.value?"left":"top":"center",ne=(Math.abs(S)+(Math.sign(S)<0?y[V]:T[V]))/Math.max(y[V],T[V])||0,oe=y[V]/T[V]||0,R=1.5;Ce(U,{backgroundColor:[ee,"currentcolor"],transform:[`translate${k}(${S}px) scale${k}(${oe})`,`translate${k}(${S/R}px) scale${k}(${(ne-1)/R+1})`,"none"],transformOrigin:Array(3).fill(se)},{duration:225,easing:ke})}}return W(()=>{const p=H.filterProps(e);return i(H,A({symbol:N,ref:s,class:["v-tab",e.class],style:e.style,tabindex:_.value?0:-1,role:"tab","aria-selected":String(_.value),active:!1},p,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":L}),{...l,default:()=>{var d;return i(P,null,[((d=l.default)==null?void 0:d.call(l))??e.text,!e.hideSlider&&i("div",{ref:o,class:["v-tab__slider",n.value],style:r.value},null)])}})}),xe({},s)}}),Xe=B({...J(Le(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Ye=I()({name:"VTabsWindow",props:Xe(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:l}=a;const t=ie(N,null),n=K(e,"modelValue"),r=D({get(){var s;return n.value!=null||!t?n.value:(s=t.items.value.find(o=>t.selected.value.includes(o.id)))==null?void 0:s.value},set(s){n.value=s}});return W(()=>{const s=M.filterProps(e);return i(M,A({_as:"VTabsWindow"},s,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),Je=B({...Ue()},"VTabsWindowItem"),Ke=I()({name:"VTabsWindowItem",props:Je(),setup(e,a){let{slots:l}=a;return W(()=>{const t=G.filterProps(e);return i(G,A({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function Qe(e){return e?e.map(a=>ce(a)?a:{text:a,value:a}):[]}const Ze=B({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...ze({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Pe(),...Be()},"VTabs"),et=I()({name:"VTabs",props:Ze(),emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:l,slots:t}=a;const n=K(e,"modelValue"),r=D(()=>Qe(e.items)),{densityClasses:s}=Ie(e),{backgroundColorClasses:o,backgroundColorStyles:u}=We(h(e,"bgColor")),{scopeId:_}=$e();return le({VTab:{color:h(e,"color"),direction:h(e,"direction"),stacked:h(e,"stacked"),fixed:h(e,"fixedTabs"),sliderColor:h(e,"sliderColor"),hideSlider:h(e,"hideSlider")}}),W(()=>{const L=q.filterProps(e),p=!!(t.window||e.items.length>0);return i(P,null,[i(q,A(L,{modelValue:n.value,"onUpdate:modelValue":d=>n.value=d,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,o.value,e.class],style:[{"--v-tabs-height":de(e.height)},u.value,e.style],role:"tablist",symbol:N},_,l),{default:()=>{var d;return[((d=t.default)==null?void 0:d.call(t))??r.value.map(c=>{var g;return((g=t.tab)==null?void 0:g.call(t,{item:c}))??i(Z,A(c,{key:c.text,value:c.value}),{default:t[`tab.${c.value}`]?()=>{var b;return(b=t[`tab.${c.value}`])==null?void 0:b.call(t,{item:c})}:void 0})})]}}),p&&i(Ye,A({modelValue:n.value,"onUpdate:modelValue":d=>n.value=d,key:"tabs-window"},_),{default:()=>{var d;return[r.value.map(c=>{var g;return((g=t.item)==null?void 0:g.call(t,{item:c}))??i(Ke,{value:c.value},{default:()=>{var b;return(b=t[`item.${c.value}`])==null?void 0:b.call(t,{item:c})}})}),(d=t.window)==null?void 0:d.call(t)]}})])}),{}}}),tt={name:"AdminTabs",data(){return{activeTab:"Libraries",tabs:["Users","Groups","Libraries","Flags","Tasks","Stats"]}},computed:{...Q(z,["doNormalComicLibrariesExist"]),...ue(z,{librariesLoaded:e=>!!e.libraries}),mdAndDown(){return this.$vuetify.display.mdAndDown}},watch:{$route(e){const l=e.path.split("/").at(-1);this.activeTab=me(l)}},mounted(){this.librariesLoaded||this.loadTables(["Library"])},methods:{...Y(z,["loadTables"])}},at={id:"tabContainer"},st={key:0,id:"noLibraries"};function nt(e,a,l,t,n,r){const s=v("router-view");return m(),$("div",at,[i(et,{class:E(["adminTabs",{drawerMargin:!r.mdAndDown}]),grow:"","show-arrows":""},{default:f(()=>[(m(!0),$(P,null,j(n.tabs,o=>(m(),w(Z,{key:o,modelValue:n.activeTab,"onUpdate:modelValue":a[0]||(a[0]=u=>n.activeTab=u),to:o.toLowerCase()},{default:f(()=>[X(be(o),1)]),_:2},1032,["modelValue","to"]))),128))]),_:1},8,["class"]),i(M,{id:"tabItems",modelValue:n.activeTab,"onUpdate:modelValue":a[1]||(a[1]=o=>n.activeTab=o),touch:!1},{default:f(()=>[(m(!0),$(P,null,j(n.tabs,o=>(m(),w(s,{key:o},{default:f(({Component:u})=>[i(G,{value:o,class:"tabItemContainer"},{default:f(()=>[(m(),w(fe(u)))]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),e.doNormalComicLibrariesExist?ve("",!0):(m(),$("div",st," Codex has no libraries. Select the Libraries tab and add a comic library. "))])}const ot=x(tt,[["render",nt],["__scopeId","data-v-2536c6ad"]]),rt={name:"MainAdmin",components:{AdminTitleToolbar:Ge,AdminTabs:ot,AdminSettingsDrawer:He,Unauthorized:Ve},data(){return{mdiLogin:we}},computed:{...Q(pe,["isUserAdmin"])}};function it(e,a,l,t,n,r){const s=v("AdminTitleToolbar"),o=v("AdminTabs"),u=v("AdminSettingsDrawer"),_=v("Unauthorized");return e.isUserAdmin?(m(),w(Se,{key:0},{default:f(()=>[i(s),i(o),i(u)]),_:1})):(m(),w(_,{key:1}))}const ht=x(rt,[["render",it]]);export{ht as default};
