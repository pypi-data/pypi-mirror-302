"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[8237],{78237:(e,l,o)=>{o.r(l),o.d(l,{default:()=>w});var t=o(58878),i=o(8151),n=o(43978),r=o(29669),s=o(55516),c=o(25571),a=o(34752),d=o(37638),p=o.n(d),u=o(58144),h=o(67253),f=o(84996);function m(e,l,o){return e=function(e,l){return(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll("#000032",(0,u.$E)(l))).replaceAll("#000033",(0,u.pf)(l))).replaceAll("#000034",(0,u.h7)(l))).replaceAll("#000035",(0,u.V9)(l))).replaceAll("#000036",(0,u.lH)(l))).replaceAll("#000037",(0,u.ZA)(l))).replaceAll("#000038",l.colors.bgColor)).replaceAll("#000039",l.colors.fadedText05)).replaceAll("#000040",l.colors.bgMix)}(e,l),e=function(e,l,o){const t="#000001",i="#000002",n="#000003",r="#000004",s="#000005",c="#000006",a="#000007",d="#000008",p="#000009",h="#000010";if("streamlit"===o){const o=(0,u.c6)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(i,o[1])).replaceAll(n,o[2])).replaceAll(r,o[3])).replaceAll(s,o[4])).replaceAll(c,o[5])).replaceAll(a,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(h,o[9])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#636efa")).replaceAll(i,"#EF553B")).replaceAll(n,"#00cc96")).replaceAll(r,"#ab63fa")).replaceAll(s,"#FFA15A")).replaceAll(c,"#19d3f3")).replaceAll(a,"#FF6692")).replaceAll(d,"#B6E880")).replaceAll(p,"#FF97FF")).replaceAll(h,"#FECB52");return e}(e,l,o),e=function(e,l,o){const t="#000011",i="#000012",n="#000013",r="#000014",s="#000015",c="#000016",a="#000017",d="#000018",p="#000019",h="#000020";if("streamlit"===o){const o=(0,u.rp)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(i,o[1])).replaceAll(n,o[2])).replaceAll(r,o[3])).replaceAll(s,o[4])).replaceAll(c,o[5])).replaceAll(a,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(h,o[9])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#0d0887")).replaceAll(i,"#46039f")).replaceAll(n,"#7201a8")).replaceAll(r,"#9c179e")).replaceAll(s,"#bd3786")).replaceAll(c,"#d8576b")).replaceAll(a,"#ed7953")).replaceAll(d,"#fb9f3a")).replaceAll(p,"#fdca26")).replaceAll(h,"#f0f921");return e}(e,l,o),e=function(e,l,o){const t="#000021",i="#000022",n="#000023",r="#000024",s="#000025",c="#000026",a="#000027",d="#000028",p="#000029",h="#000030",f="#000031";if("streamlit"===o){const o=(0,u.vk)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(i,o[1])).replaceAll(n,o[2])).replaceAll(r,o[3])).replaceAll(s,o[4])).replaceAll(c,o[5])).replaceAll(a,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(h,o[9])).replaceAll(f,o[10])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#8e0152")).replaceAll(i,"#c51b7d")).replaceAll(n,"#de77ae")).replaceAll(r,"#f1b6da")).replaceAll(s,"#fde0ef")).replaceAll(c,"#f7f7f7")).replaceAll(a,"#e6f5d0")).replaceAll(d,"#b8e186")).replaceAll(p,"#7fbc41")).replaceAll(h,"#4d9221")).replaceAll(f,"#276419");return e}(e,l,o),e}function g(e,l){try{!function(e,l){const{genericFonts:o,colors:t,fontSizes:i}=l,n={font:{color:(0,u.lH)(l),family:o.bodyFont,size:i.twoSmPx},title:{color:t.headingColor,subtitleColor:t.bodyText,font:{family:o.headingFont,size:i.mdPx,color:t.headingColor},pad:{l:l.spacing.twoXSPx},xanchor:"left",x:0},legend:{title:{font:{size:i.twoSmPx,color:(0,u.lH)(l)},side:"top"},valign:"top",bordercolor:t.transparent,borderwidth:l.spacing.nonePx,font:{size:i.twoSmPx,color:(0,u.ZA)(l)}},paper_bgcolor:t.bgColor,plot_bgcolor:t.bgColor,yaxis:{ticklabelposition:"outside",zerolinecolor:(0,u.V9)(l),title:{font:{color:(0,u.lH)(l),size:i.smPx},standoff:l.spacing.twoXLPx},tickcolor:(0,u.V9)(l),tickfont:{color:(0,u.lH)(l),size:i.twoSmPx},gridcolor:(0,u.V9)(l),minor:{gridcolor:(0,u.V9)(l)},automargin:!0},xaxis:{zerolinecolor:(0,u.V9)(l),gridcolor:(0,u.V9)(l),showgrid:!1,tickfont:{color:(0,u.lH)(l),size:i.twoSmPx},tickcolor:(0,u.V9)(l),title:{font:{color:(0,u.lH)(l),size:i.smPx},standoff:l.spacing.xlPx},minor:{gridcolor:(0,u.V9)(l)},zeroline:!1,automargin:!0,rangeselector:{bgcolor:t.bgColor,bordercolor:(0,u.V9)(l),borderwidth:1,x:0}},margin:{pad:l.spacing.smPx,r:l.spacing.nonePx,l:l.spacing.nonePx},hoverlabel:{bgcolor:t.bgColor,bordercolor:t.borderColor,font:{color:(0,u.lH)(l),family:o.bodyFont,size:i.twoSmPx}},coloraxis:{colorbar:{thickness:16,xpad:l.spacing.twoXLPx,ticklabelposition:"outside",outlinecolor:t.transparent,outlinewidth:8,len:.75,y:.5745,title:{font:{color:(0,u.lH)(l),size:i.smPx}},tickfont:{color:(0,u.lH)(l),size:i.twoSmPx}}},ternary:{gridcolor:(0,u.lH)(l),bgcolor:t.bgColor,title:{font:{family:o.bodyFont,size:i.smPx}},color:(0,u.lH)(l),aaxis:{gridcolor:(0,u.lH)(l),linecolor:(0,u.lH)(l),tickfont:{family:o.bodyFont,size:i.twoSmPx}},baxis:{linecolor:(0,u.lH)(l),gridcolor:(0,u.lH)(l),tickfont:{family:o.bodyFont,size:i.twoSmPx}},caxis:{linecolor:(0,u.lH)(l),gridcolor:(0,u.lH)(l),tickfont:{family:o.bodyFont,size:i.twoSmPx}}}};p()(e,n)}(e.layout.template.layout,l)}catch(o){const e=(0,h.$)(o);(0,f.vV)(e)}"title"in e.layout&&(e.layout.title=p()(e.layout.title,{text:`<b>${e.layout.title.text}</b>`}))}var y=o(90782);const x={width:600,height:470,name:"fullscreen-expand",path:"M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"},A={width:600,height:470,name:"fullscreen-collapse",path:"M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"};function v(e,l,o){const t=JSON.parse(m(JSON.stringify(e),o,l));return"streamlit"===l?g(t,o):t.layout=function(e,l){const{colors:o,genericFonts:t}=l,i={font:{color:o.bodyText,family:t.bodyFont},paper_bgcolor:o.bgColor,plot_bgcolor:o.secondaryBg};return{...e,font:{...i.font,...e.font},paper_bgcolor:e.paper_bgcolor||i.paper_bgcolor,plot_bgcolor:e.plot_bgcolor||i.plot_bgcolor}}(t.layout,o),t}function b(e,l,o,t){if(!e)return;const i={selection:{points:[],point_indices:[],box:[],lasso:[]}},n=new Set,s=[],a=[],d=[],{selections:p,points:u}=e;if(u&&u.forEach((function(e){d.push({...e,legendgroup:e.data.legendgroup||void 0,data:void 0,fullData:void 0}),(0,c.se)(e.pointIndex)&&n.add(e.pointIndex),(0,c.se)(e.pointIndices)&&e.pointIndices.length>0&&e.pointIndices.forEach((e=>n.add(e)))})),p&&p.forEach((e=>{if("rect"===e.type){const l=function(e){return"x0"in e&&"x1"in e&&"y0"in e&&"y1"in e?{x:[e.x0,e.x1],y:[e.y0,e.y1]}:{x:[],y:[]}}(e),o={xref:e.xref,yref:e.yref,x:l.x,y:l.y};s.push(o)}if("path"===e.type){const l=function(e){if(""===e)return{x:[],y:[]};const l=e.replace("M","").replace("Z","").split("L"),o=[],t=[];return l.forEach((e=>{const[l,i]=e.split(",").map(Number);o.push(l),t.push(i)})),{x:o,y:t}}(e.path),o={xref:e.xref,yref:e.yref,x:l.x,y:l.y};a.push(o)}})),i.selection.point_indices=Array.from(n),i.selection.points=d.map((e=>(0,c.wJ)(e))),i.selection.box=s,i.selection.lasso=a,i.selection.box.length>0&&!o.selectionMode.includes(r.P_.SelectionMode.BOX))return;if(i.selection.lasso.length>0&&!o.selectionMode.includes(r.P_.SelectionMode.LASSO))return;const h=l.getStringValue(o),f=JSON.stringify(i);h!==f&&l.setStringValue(o,f,{fromUi:!0},t)}const w=(0,s.A)((function(e){var l,o,s,c,d;let{element:p,width:u,height:h,widgetMgr:f,disabled:m,fragmentId:g,isFullScreen:w,expand:S,collapse:F,disableFullscreenMode:z}=e;const C=(0,i.u)(),M=(0,t.useMemo)((()=>p.spec?JSON.parse(p.spec):{layout:{},data:[],frames:void 0}),[p.id,p.spec]),[P,H]=(0,t.useState)((()=>{const e=f.getElementState(p.id,"figure");return e||v(M,p.theme,C)})),k=p.selectionMode.length>0&&!m,E=k&&p.selectionMode.includes(r.P_.SelectionMode.LASSO),V=k&&p.selectionMode.includes(r.P_.SelectionMode.BOX),_=k&&p.selectionMode.includes(r.P_.SelectionMode.POINTS),I=(0,t.useMemo)((()=>{if(!p.config)return{};const e=JSON.parse(p.config);var l;z||(e.modeBarButtonsToAdd=[{name:w?"Close fullscreen":"Fullscreen",icon:w?A:x,click:()=>{w&&F?F():S&&S()}},...null!==(l=e.modeBarButtonsToAdd)&&void 0!==l?l:[]]);if(!e.modeBarButtonsToRemove){e.displaylogo=!1;const l=["sendDataToCloud"];k?(E||l.push("lasso2d"),V||l.push("select2d")):l.push("lasso2d","select2d"),e.modeBarButtonsToRemove=l}return e}),[p.id,p.config,w,z,k,E,V,F,S]);(0,t.useEffect)((()=>{H((e=>v(e,p.theme,C)))}),[p.id,C,p.theme]),(0,t.useEffect)((()=>{let e=M.layout.clickmode,l=M.layout.hovermode,o=M.layout.dragmode;m?(e="none",o="pan"):k&&(M.layout.clickmode||(e=_?"event+select":"none"),M.layout.hovermode||(l="closest"),M.layout.dragmode||(o=_?"pan":V?"select":E?"lasso":"pan")),H((t=>t.layout.clickmode===e&&t.layout.hovermode===l&&t.layout.dragmode===o?t:{...t,layout:{...t.layout,clickmode:e,hovermode:l,dragmode:o}}))}),[p.id,k,_,V,E,m]);let L=-1===u?null===(l=P.layout)||void 0===l?void 0:l.width:Math.max(p.useContainerWidth?u:Math.min(null!==(o=M.layout.width)&&void 0!==o?o:u,u),150),O=M.layout.height;w&&(L=u,O=h),P.layout.height===O&&P.layout.width===L||H((e=>({...e,layout:{...e.layout,height:O,width:L}})));const W=(0,t.useCallback)((e=>{b(e,f,p,g)}),[p.id,f,g]),B=(0,t.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!function(e,l,o){const t=e.getStringValue(l),i=JSON.stringify({selection:{points:[],point_indices:[],box:[],lasso:[]}});t!==i&&e.setStringValue(l,i,{fromUi:!0},o)}(f,p,g),e&&setTimeout((()=>{H((e=>({...e,data:e.data.map((e=>({...e,selectedpoints:null}))),layout:{...e.layout,selections:[]}})))}),50)}),[p.id,f,g]);return(0,t.useEffect)((()=>{if(!p.formId||!k)return;const e=new a.o;return e.manageFormClearListener(f,p.formId,B),()=>{e.disconnect()}}),[p.formId,f,k,B]),(0,t.useEffect)((()=>{var e,l,o;if(!k)return;let t;t="select"===(null===(e=P.layout)||void 0===e?void 0:e.dragmode)||"lasso"===(null===(l=P.layout)||void 0===l?void 0:l.dragmode)?"event":_?"event+select":"none",(null===(o=P.layout)||void 0===o?void 0:o.clickmode)!==t&&H((e=>({...e,layout:{...e.layout,clickmode:t}})))}),[null===(s=P.layout)||void 0===s?void 0:s.dragmode]),(0,y.jsx)("div",{className:"stPlotlyChart","data-testid":"stPlotlyChart",children:(0,y.jsx)(n.A,{data:P.data,layout:P.layout,config:I,frames:null!==(c=P.frames)&&void 0!==c?c:void 0,style:{visibility:void 0===(null===(d=P.layout)||void 0===d?void 0:d.width)?"hidden":void 0},onSelected:k?W:()=>{},onDoubleClick:k?()=>B():void 0,onDeselect:k?()=>{B(!1)}:void 0,onInitialized:e=>{f.setElementState(p.id,"figure",e)},onUpdate:e=>{f.setElementState(p.id,"figure",e),H(e)}},w?"fullscreen":"original")})}),!0)},55516:(e,l,o)=>{o.d(l,{A:()=>g});var t=o(58878),i=o(53124),n=o.n(i),r=o(8151),s=o(41514),c=o(67214),a=o(64611),d=o(84152),p=o(25571),u=o(4883),h=o(90782);class f extends t.PureComponent{constructor(e){super(e),this.context=void 0,this.controlKeys=e=>{const{expanded:l}=this.state;27===e.keyCode&&l&&this.zoomOut()},this.zoomIn=()=>{document.body.style.overflow="hidden",this.context.setFullScreen(!0),this.setState({expanded:!0})},this.zoomOut=()=>{document.body.style.overflow="unset",this.context.setFullScreen(!1),this.setState({expanded:!1})},this.getWindowDimensions=()=>{const e=(0,p.NE)(this.props.theme.spacing.md),l=(0,p.NE)(this.props.theme.sizes.fullScreenHeaderHeight);return{fullWidth:window.innerWidth-2*e,fullHeight:window.innerHeight-(e+l)}},this.updateWindowDimensions=()=>{this.setState(this.getWindowDimensions())},this.state={expanded:!1,...this.getWindowDimensions()}}componentDidMount(){window.addEventListener("resize",this.updateWindowDimensions),document.addEventListener("keydown",this.controlKeys,!1)}componentWillUnmount(){window.removeEventListener("resize",this.updateWindowDimensions),document.removeEventListener("keydown",this.controlKeys,!1)}render(){const{expanded:e,fullWidth:l,fullHeight:o}=this.state,{children:t,width:i,height:n,disableFullscreenMode:r}=this.props;let d=s.u,p=this.zoomIn,f="View fullscreen";return e&&(d=c.Q,p=this.zoomOut,f="Exit fullscreen"),(0,h.jsxs)(u.g,{isExpanded:e,"data-testid":"stFullScreenFrame",children:[!r&&(0,h.jsx)(u.j,{"data-testid":"StyledFullScreenButton",onClick:p,title:f,isExpanded:e,children:(0,h.jsx)(a.A,{content:d})}),t(e?{width:l,height:o,expanded:e,expand:this.zoomIn,collapse:this.zoomOut}:{width:i,height:n,expanded:e,expand:this.zoomIn,collapse:this.zoomOut})]})}}f.contextType=d.n;const m=(0,r.b)(f);const g=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];class o extends t.PureComponent{constructor(){super(...arguments),this.render=()=>{const{width:o,height:t,disableFullscreenMode:i}=this.props;return(0,h.jsx)(m,{width:o,height:t,disableFullscreenMode:l||i,children:l=>{let{width:o,height:t,expanded:i,expand:n,collapse:r}=l;return(0,h.jsx)(e,{...this.props,width:o,height:t,isFullScreen:i,expand:n,collapse:r})}})}}}return o.displayName=`withFullScreenWrapper(${e.displayName||e.name})`,n()(o,e)}},34752:(e,l,o)=>{o.d(l,{X:()=>r,o:()=>n});var t=o(58878),i=o(25571);class n{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,l,o){(0,i.se)(this.formClearListener)&&this.lastWidgetMgr===e&&this.lastFormId===l||(this.disconnect(),(0,i._L)(l)&&(this.formClearListener=e.addFormClearedListener(l,o),this.lastWidgetMgr=e,this.lastFormId=l))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}function r(e){let{element:l,widgetMgr:o,onFormCleared:n}=e;(0,t.useEffect)((()=>{if(!(0,i._L)(l.formId))return;const e=o.addFormClearedListener(l.formId,n);return()=>{e.disconnect()}}),[l,o,n])}}}]);