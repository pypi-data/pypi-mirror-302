import{o as je}from"../chunks/helpers.3e4UBEvQ.js";import{s as Qe,f as c,l as ee,a as y,g as u,h as m,m as te,d as f,c as C,Z,j as d,i as Ae,B as a,I as he,n as De,P as Ue,r as ge}from"../chunks/scheduler.E6X4giYD.js";import{S as Be,i as Re,b as ae,d as se,m as ne,t as P,c as Ve,a as E,e as le,g as Oe}from"../chunks/index.2ZayTLG1.js";import{S as He}from"../chunks/SimpleTable.Mhm7UeVQ.js";import{m as we}from"../chunks/singletons.YLCiVgCN.js";import{V as Me}from"../chunks/VegaLite.JcqJEDPk.js";import{I as xe,P as qe}from"../chunks/Icon.ptINUyjr.js";import{g as Le}from"../chunks/stores.Bq-lVNKW.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.TlH1isqv.js";const Ze=async({fetch:n,params:e})=>{const{run:l,measurements:t}=await je(n,e.id);return{testrun:l,measurements:t,name:e.id}},ot=Object.freeze(Object.defineProperty({__proto__:null,load:Ze},Symbol.toStringTag,{value:"Module"}));function Fe(n){let e,l="No Testrun data available.";return{c(){e=c("p"),e.textContent=l},l(t){e=u(t,"P",{"data-svelte-h":!0}),Z(e)!=="svelte-eigvvv"&&(e.textContent=l)},m(t,o){Ae(t,e,o)},p:ge,i:ge,o:ge,d(t){t&&f(e)}}}function Ge(n){let e,l;return e=new He({props:{data:we(n[0].measurements)}}),{c(){ae(e.$$.fragment)},l(t){se(e.$$.fragment,t)},m(t,o){ne(e,t,o),l=!0},p(t,o){const h={};o&1&&(h.data=we(t[0].measurements)),e.$set(h)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){le(e,t)}}}function ze(n){let e,l;return e=new Me({props:{data:n[1],spec:n[0].testrun.data.vega_lite,options:n[3]}}),{c(){ae(e.$$.fragment)},l(t){se(e.$$.fragment,t)},m(t,o){ne(e,t,o),l=!0},p(t,o){const h={};o&1&&(h.spec=t[0].testrun.data.vega_lite),e.$set(h)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){le(e,t)}}}function Je(n){let e,l,t,o,h,S=n[0].name+"",w,U,p,F="Export",B,x,T,q,re,R=n[0].testrun.data?.quality+"",G,oe,$,H,I,ie,z,$e="Edit",ce,N,_,v,ue,g,D,be="Visualizations",fe,M,b,L,V,me,A,ye="Edit",J,de,O,pe,Ce;I=new xe({props:{size:"12",src:qe}});const Ee=[Ge,Fe],k=[];function Se(s,i){return s[0].measurements.length>0?0:1}_=Se(n),v=k[_]=Ee[_](n),V=new xe({props:{size:"12",src:qe}});let r=n[0].measurements.length>0&&n[2]&&n[0].testrun.data?.vega_lite&&ze(n);return{c(){e=c("div"),l=c("section"),t=c("div"),o=c("h1"),h=ee("Testrun "),w=ee(S),U=y(),p=c("button"),p.textContent=F,B=y(),x=c("section"),T=c("div"),q=c("p"),re=ee("Result data quality: "),G=ee(R),oe=y(),$=c("button"),H=c("span"),ae(I.$$.fragment),ie=y(),z=c("span"),z.textContent=$e,ce=y(),N=c("section"),v.c(),ue=y(),g=c("section"),D=c("h2"),D.textContent=be,fe=y(),M=c("div"),b=c("a"),L=c("span"),ae(V.$$.fragment),me=y(),A=c("span"),A.textContent=ye,de=y(),r&&r.c(),this.h()},l(s){e=u(s,"DIV",{class:!0});var i=m(e);l=u(i,"SECTION",{class:!0});var j=m(l);t=u(j,"DIV",{class:!0});var K=m(t);o=u(K,"H1",{class:!0});var _e=m(o);h=te(_e,"Testrun "),w=te(_e,S),_e.forEach(f),U=C(K),p=u(K,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(p)!=="svelte-pewlmc"&&(p.textContent=F),K.forEach(f),j.forEach(f),B=C(i),x=u(i,"SECTION",{class:!0});var Te=m(x);T=u(Te,"DIV",{class:!0});var W=m(T);q=u(W,"P",{});var ve=m(q);re=te(ve,"Result data quality: "),G=te(ve,R),ve.forEach(f),oe=C(W),$=u(W,"BUTTON",{class:!0});var X=m($);H=u(X,"SPAN",{});var ke=m(H);se(I.$$.fragment,ke),ke.forEach(f),ie=C(X),z=u(X,"SPAN",{"data-svelte-h":!0}),Z(z)!=="svelte-bi7592"&&(z.textContent=$e),X.forEach(f),W.forEach(f),Te.forEach(f),ce=C(i),N=u(i,"SECTION",{class:!0});var Pe=m(N);v.l(Pe),Pe.forEach(f),ue=C(i),g=u(i,"SECTION",{class:!0});var Q=m(g);D=u(Q,"H2",{class:!0,"data-svelte-h":!0}),Z(D)!=="svelte-l5lk04"&&(D.textContent=be),fe=C(Q),M=u(Q,"DIV",{});var Ie=m(M);b=u(Ie,"A",{class:!0,href:!0});var Y=m(b);L=u(Y,"SPAN",{});var Ne=m(L);se(V.$$.fragment,Ne),Ne.forEach(f),me=C(Y),A=u(Y,"SPAN",{"data-svelte-h":!0}),Z(A)!=="svelte-bi7592"&&(A.textContent=ye),Y.forEach(f),Ie.forEach(f),de=C(Q),r&&r.l(Q),Q.forEach(f),i.forEach(f),this.h()},h(){d(o,"class","h1"),d(p,"class","btn variant-filled"),d(t,"class","flex justify-between"),d(l,"class","space-y-2"),d($,"class","chip variant-soft hover:variant-filled"),d(T,"class","flex space-x-2"),d(x,"class","space-y-2"),d(N,"class","space-y-2"),d(D,"class","h2"),d(b,"class","chip variant-soft hover:variant-filled"),d(b,"href",J="/chart_editor/"+n[0].testrun.id),d(g,"class","space-y-2"),d(e,"class","table-container mx-auto p-8 space-y-8")},m(s,i){Ae(s,e,i),a(e,l),a(l,t),a(t,o),a(o,h),a(o,w),a(t,U),a(t,p),a(e,B),a(e,x),a(x,T),a(T,q),a(q,re),a(q,G),a(T,oe),a(T,$),a($,H),ne(I,H,null),a($,ie),a($,z),a(e,ce),a(e,N),k[_].m(N,null),a(e,ue),a(e,g),a(g,D),a(g,fe),a(g,M),a(M,b),a(b,L),ne(V,L,null),a(b,me),a(b,A),a(g,de),r&&r.m(g,null),O=!0,pe||(Ce=[he(p,"click",Ke),he($,"click",n[4]),he($,"keypress",n[4])],pe=!0)},p(s,[i]){(!O||i&1)&&S!==(S=s[0].name+"")&&De(w,S),(!O||i&1)&&R!==(R=s[0].testrun.data?.quality+"")&&De(G,R);let j=_;_=Se(s),_===j?k[_].p(s,i):(Oe(),P(k[j],1,1,()=>{k[j]=null}),Ve(),v=k[_],v?v.p(s,i):(v=k[_]=Ee[_](s),v.c()),E(v,1),v.m(N,null)),(!O||i&1&&J!==(J="/chart_editor/"+s[0].testrun.id))&&d(b,"href",J),s[0].measurements.length>0&&s[2]&&s[0].testrun.data?.vega_lite?r?(r.p(s,i),i&1&&E(r,1)):(r=ze(s),r.c(),E(r,1),r.m(g,null)):r&&(Oe(),P(r,1,1,()=>{r=null}),Ve())},i(s){O||(E(I.$$.fragment,s),E(v),E(V.$$.fragment,s),E(r),O=!0)},o(s){P(I.$$.fragment,s),P(v),P(V.$$.fragment,s),P(r),O=!1},d(s){s&&f(e),le(I),k[_].d(),le(V),r&&r.d(),pe=!1,Ue(Ce)}}}function Ke(n){}function We(n,e,l){let{data:t}=e;const o={measurements:t.measurements},h=!!t.testrun.data?.vega_lite,S=Le();let w={theme:void 0,actions:{export:!0,source:!1,compiled:!0,editor:!1}};async function U(p){const F={type:"component",title:"Update Quality",body:"",meta:{testrun:t.testrun,method:"PUT"},component:"modalChangeDataQuality",response:async B=>{B&&S.close()}};S.trigger(F)}return n.$$set=p=>{"data"in p&&l(0,t=p.data)},[t,o,h,w,U]}class it extends Be{constructor(e){super(),Re(this,e,We,Je,Qe,{data:0})}}export{it as component,ot as universal};
