import{e as j}from"../chunks/index.NkaAmagH.js";import{s as A,a as E,f as k,W as H,d,c as M,g as S,h as w,Z as T,j as D,i as b,B as x,x as I,L as O,r as v,e as $}from"../chunks/scheduler.E6X4giYD.js";import{S as q,i as z,t as y,c as L,a as g,g as N,b as R,d as W,m as B,e as U}from"../chunks/index.2ZayTLG1.js";import{h as V}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.TlH1isqv.js";import{T as Z}from"../chunks/models.2T90Is-9.js";import{c as f,S as F}from"../chunks/SimpleTable.Mhm7UeVQ.js";import{m as G}from"../chunks/singletons.YLCiVgCN.js";const J=async({fetch:u,params:e})=>({testruns:u("/api/testruns/overview").then(s=>{if(s.status==401)return Promise.resolve([]);if(!s.ok)j(s.status,s.statusText);else return s.json()})}),ie=Object.freeze(Object.defineProperty({__proto__:null,load:J},Symbol.toStringTag,{value:"Module"}));function K(u){let e,s="Please log in to see recent testruns.";return{c(){e=k("p"),e.textContent=s},l(t){e=S(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-ykhdry"&&(e.textContent=s)},m(t,r){b(t,e,r)},p:v,i:v,o:v,d(t){t&&d(e)}}}function Q(u){let e,s="Recent Testruns",t,r,c,_,l;const i=[Y,X],n=[];function C(a,m){return a[0].testruns.length>0?0:1}return r=C(u),c=n[r]=i[r](u),{c(){e=k("h2"),e.textContent=s,t=E(),c.c(),_=$(),this.h()},l(a){e=S(a,"H2",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-ct2azo"&&(e.textContent=s),t=M(a),c.l(a),_=$(),this.h()},h(){D(e,"class","h2")},m(a,m){b(a,e,m),b(a,t,m),n[r].m(a,m),b(a,_,m),l=!0},p(a,m){let o=r;r=C(a),r===o?n[r].p(a,m):(N(),y(n[o],1,1,()=>{n[o]=null}),L(),c=n[r],c?c.p(a,m):(c=n[r]=i[r](a),c.c()),g(c,1),c.m(_.parentNode,_))},i(a){l||(g(c),l=!0)},o(a){y(c),l=!1},d(a){a&&(d(e),d(t),d(_)),n[r].d(a)}}}function X(u){let e,s="No recent testruns.";return{c(){e=k("p"),e.textContent=s},l(t){e=S(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-ppv4ti"&&(e.textContent=s)},m(t,r){b(t,e,r)},p:v,i:v,o:v,d(t){t&&d(e)}}}function Y(u){let e,s;return e=new F({props:{data:u[2],columns:u[3],rowsPerPage:20,search:!1}}),e.$on("selected",u[4]),{c(){R(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,r){B(e,t,r),s=!0},p:v,i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){U(e,t)}}}function ee(u){let e,s,t,r='<h1 class="h1">Welcome to EDeA-MS</h1> <p>EDeA-MS provides the server part for Test&amp;Measurement as Code setups. See <a class="anchor" href="https://tmc.edea.dev/">EDeA-TMC</a> for the library.</p>',c,_,l,i,n;const C=[Q,K],a=[];function m(o,h){return o[1]!==void 0?0:1}return l=m(u),i=a[l]=C[l](u),{c(){e=E(),s=k("div"),t=k("section"),t.innerHTML=r,c=E(),_=k("section"),i.c(),this.h()},l(o){H("svelte-e4ea6t",document.head).forEach(d),e=M(o),s=S(o,"DIV",{class:!0});var p=w(s);t=S(p,"SECTION",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-1rsh2fq"&&(t.innerHTML=r),c=M(p),_=S(p,"SECTION",{class:!0});var P=w(_);i.l(P),P.forEach(d),p.forEach(d),this.h()},h(){document.title="EDeA-MS",D(t,"class","space-y-2"),D(_,"class","space-y-2"),D(s,"class","container mx-auto p-8 space-y-8")},m(o,h){b(o,e,h),b(o,s,h),x(s,t),x(s,c),x(s,_),a[l].m(_,null),n=!0},p(o,[h]){let p=l;l=m(o),l===p?a[l].p(o,h):(N(),y(a[p],1,1,()=>{a[p]=null}),L(),i=a[l],i?i.p(o,h):(i=a[l]=C[l](o),i.c()),g(i,1),i.m(_,null))},i(o){n||(g(i),n=!0)},o(o){y(i),n=!1},d(o){o&&(d(e),d(s)),a[l].d()}}}function te(u,e,s){let t,{data:r}=e,c=G(r.testruns);const _=[f("id","ID"),f("short_code","Short Code"),f("machine_hostname","Hostname"),f("user_name","User"),f("test_name","Test Name"),f("created_at","Created",{translate:n=>new Date(n).toLocaleString("de-DE")}),f("started_at","Started",{translate:n=>new Date(n).toLocaleString("de-DE")}),f("completed_at","Completed",{translate:n=>new Date(n).toLocaleString("de-DE")}),f("state","State",{translate:n=>Z[n]})];function l(n){V(`/testrun/${n.detail.id}`)}const i=I("user");return O(u,i,n=>s(1,t=n)),u.$$set=n=>{"data"in n&&s(0,r=n.data)},[r,t,c,_,l,i]}class ue extends q{constructor(e){super(),z(this,e,te,ee,A,{data:0})}}export{ue as component,ie as universal};
