import{d as y,bU as D,h as t,aV as S,aW as V,b,o as a,y as W,q as B,k as n,l as e,bV as $,a$ as N,e as T,W as q,ao as E,f as P,by as U,bW as X,c as i,i as o,j as F,u as Z,bX as j,a as p,bY as H,bZ as J,bH as M,a6 as O,bo as Y}from"./index-DYmgXvg1.js";import{s as z,b as A}from"./index-0yGGjo7r.js";import{u as G}from"./usePageTitle-9ChCa-QH.js";const K={class:"flow-stats"},L={class:"flow-stats__cards"},Q=y({__name:"FlowStats",props:{flowId:{}},setup(w){const f=w,r={range:{type:"span",seconds:-A},tags:[]},{flowId:u}=D(f),c=t(()=>({flowId:u.value,range:r.range}));S(V,{interval:z(30)});const l=t(()=>b.map("FlowStatsFilter",c.value,"FlowRunsFilter")),d=t(()=>b.map("FlowStatsFilter",c.value,"TaskRunsFilter"));return(_,m)=>(a(),W("div",K,[B("div",L,[n(e($),{filter:l.value},null,8,["filter"]),n(e(N),{filter:d.value},null,8,["filter"])])]))}}),oe=y({__name:"Flow",setup(w){const f=T(),r=q("flowId"),u=t(()=>[r.value]),c=Z(),l=E("tab","Runs"),d=["Runs","Deployments","Details"],_={interval:3e5},m=P(f.flows.getFlow,[r.value],_),s=t(()=>m.response),{filter:k}=U({flows:{id:u}}),{filter:R}=X({flows:{id:u}});function h(){c.push(Y.flows())}const x=t(()=>s.value?`Flow: ${s.value.name}`:"Flow");return G(x),(ee,v)=>{const I=F("p-tabs"),g=F("p-layout-default");return a(),i(g,{class:"flow"},{header:o(()=>[s.value?(a(),i(e(j),{key:0,flow:s.value,onDelete:h},null,8,["flow"])):p("",!0)]),default:o(()=>[s.value?(a(),i(Q,{key:0,"flow-id":s.value.id},null,8,["flow-id"])):p("",!0),n(I,{selected:e(l),"onUpdate:selected":v[0]||(v[0]=C=>O(l)?l.value=C:null),tabs:d},{details:o(()=>[s.value?(a(),i(e(H),{key:0,flow:s.value},null,8,["flow"])):p("",!0)]),deployments:o(()=>[n(e(J),{filter:e(R),prefix:"deployments"},null,8,["filter"])]),runs:o(()=>[n(e(M),{filter:e(k),selectable:"",prefix:"runs"},null,8,["filter"])]),_:1},8,["selected"])]),_:1})}}});export{oe as default};
//# sourceMappingURL=Flow-CJcE1AWL.js.map
