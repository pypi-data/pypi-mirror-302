import{a as A,t as H}from"./index.d57ec5a8.js";import{P as N,v as V}from"./scheduler.398aa708.js";import{l as _,w as R,r as j}from"./singletons.1f51f3a9.js";function G(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function z(e,t){H(e,1,1,()=>{t.delete(e.key)})}function K(e,t){e.f(),z(e,t)}function X(e,t,s,a,u,g,r,h,w,i,l,M){let o=e.length,m=g.length,f=o;const P={};for(;f--;)P[e[f].key]=f;const v=[],p=new Map,L=new Map,C=[];for(f=m;f--;){const n=M(u,g,f),c=s(n);let d=r.get(c);d?a&&C.push(()=>d.p(n,t)):(d=i(c,n),d.c()),p.set(c,v[f]=d),c in P&&L.set(c,Math.abs(f-P[c]))}const b=new Set,I=new Set;function y(n){A(n,1),n.m(h,l),r.set(n.key,n),l=n.first,m--}for(;o&&m;){const n=v[m-1],c=e[o-1],d=n.key,S=c.key;n===c?(l=n.first,o--,m--):p.has(S)?!r.has(d)||b.has(d)?y(n):I.has(S)?o--:L.get(d)>L.get(S)?(I.add(d),y(n)):(b.add(S),o--):(w(c,r),o--)}for(;o--;){const n=e[o];p.has(n.key)||w(n,r)}for(;m;)y(v[m-1]);return N(C),v}const Y=_("goto"),Z=_("invalidate_all"),$=_("before_navigate"),ee=_("after_navigate"),E={};function O(e){return e==="local"?localStorage:sessionStorage}function U(e,t,s){const a=(s==null?void 0:s.serializer)??JSON,u=(s==null?void 0:s.storage)??"local";function g(r,h){O(u).setItem(r,a.stringify(h))}if(!E[e]){const r=R(t,i=>{const l=O(u).getItem(e);l&&i(a.parse(l));{const M=o=>{o.key===e&&i(o.newValue?a.parse(o.newValue):null)};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)}}),{subscribe:h,set:w}=r;E[e]={set(i){g(e,i),w(i)},update(i){const l=i(V(r));g(e,l),w(l)},subscribe:h}}return E[e]}const D=U("modeOsPrefers",!1),k=U("modeUserPrefers",void 0),Q=U("modeCurrent",!1);function q(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return D.set(e),e}function B(){return V(k)}function te(){const e=q(),t=B();return t!==void 0?t:e}function se(e){k.set(e)}function ne(e){const t=document.documentElement.classList,s="dark";e===!0?t.remove(s):t.add(s),Q.set(e)}function oe(){const e=document.documentElement.classList,t=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),a=window.matchMedia("(prefers-color-scheme: dark)").matches;t||s&&a?e.add("dark"):e.remove("dark")}function ae(){const e=window.matchMedia("(prefers-color-scheme: light)");function t(s){const a=document.documentElement.classList,u="dark";s===!0?a.remove(u):a.add(u)}t(e.matches),e.onchange=()=>{t(e.matches)}}const x="(prefers-reduced-motion: reduce)";function J(){return window.matchMedia(x).matches}const re=j(J(),e=>{{const t=a=>{e(a.matches)},s=window.matchMedia(x);return s.addEventListener("change",t),()=>{s.removeEventListener("change",t)}}});export{ne as a,$ as b,se as c,ae as d,G as e,K as f,q as g,Y as h,Z as i,te as j,ee as k,Q as m,re as p,oe as s,X as u};
