[tool.poetry]
name = "akantu-geomechanical-solver"
version = "0.3.0"
description = "Geomechanical simulator based on the open-source FEM library Akantu."
authors = ["Emil Gallyamov <emil.gallyamov@epfl.ch>"]
license = "GPL"
readme = "README.md"
packages = [{include = "akantu_geomechanical_solver"}]
homepage = "https://gitlab.com/emil.gallyamov/akantu-geomechanical-solver"
repository = "https://gitlab.com/emil.gallyamov/akantu-geomechanical-solver"

[tool.poetry.dependencies]
python = "^3.10"
numpy = "^2.0.0"
gmsh = "^4.13.1"
sphinx = {version = "^8.0.2", optional = true}
pytest = {version = "^8.3.2", optional = true}
mpmath = {version = "^1.3.0", optional = true}
pre-commit = {version = "^3.8.0", optional = true}
scipy = {version = "^1.14.0", optional = true}
akantu = {version = "4.0.1rc2+226.gad188433212", optional = true}
mpi4py = "^4.0.0"

[tool.poetry.extras]
doc = ["sphinx"]
dev = ["pre-commit", "pytest", "scipy", "mpmath", "sphinx"]
test = ["pytest", "mpmath", "scipy"]
serial = ["akantu"]
parallel = ["scipy"]

[build-system]
requires = [
	"poetry-core>=1.0.0",
	"poetry-dynamic-versioning>=1.0.0,<2.0.0"
]
build-backend = "poetry_dynamic_versioning.backend"

[tool.poetry-dynamic-versioning]
enable = false
vcs = "git"
style = "semver"

[tool.poetry-dynamic-versioning.substitution]
files = [
	"akantu_geomechanical_solver/__init__.py",
	"docs/conf.py"
]

[tool.pytest.ini_options]
markers = [
	"serial",
	"parallel"
]
