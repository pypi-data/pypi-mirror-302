[tox]
envlist =
    py{310,311,312}
    qa

[testenv]
extras = tests
commands =
    pytest {posargs}

[testenv:coverage]
extras = tests
commands =
    pytest --cov=aiosafeconsumer --cov-report=term --cov-report=term-missing {posargs}

[testenv:qa]
deps =
    black
    Flake8-pyproject
    isort
    mypy
    pytest
    types-croniter
    types-redis
commands =
    flake8 src tests
    black --check --diff src tests
    isort --check-only --diff src tests
    mypy src tests
