import{_ as ua,g as da,V as ca}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_42f910eb_lang-Btw-mp-g.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as ye,_ as ma,f as Se,g as fe,i as Ae,a as Vt,b as va,c as qe,d as pa,s as ya,e as $t,t as fa,V as ha,h as _a,j as ht}from"./VCheckbox-BAe5WuDa.js";import{e as ce,_ as Re}from"./eventbus-bbRLfqF7.js";import{d as A,r as M,o as Ee,a as Ye,b as g,M as ee,P as _t,c,e as C,w as f,f as m,u as e,$ as we,g as I,h as b,i as J,t as P,j as V,F as U,s as t,A as ga,p as te,k as ae,l as ba,m as wa,n as Le,q as It,v as Y,x as Q,y as Oe,z as St,B as Pe,C as Qt,D as R,E as Tt,G as xe,H as Bt,I as ka,J as Qe,K as ne,L as Pa,N as zt,O as Ca,Q as Mt,R as Va,S as $a,T as Ia,U as Te,V as W,W as E,X as Fe,Y as He,Z as Be,_ as H,a0 as G,a1 as F,a2 as ze,a3 as he,a4 as me,a5 as Sa,a6 as At,a7 as Qa,a8 as Me,a9 as Ta,aa as gt,ab as Ba,ac as za,ad as Ma,ae as Aa}from"./index-BAkCMo8z.js";import{T as qa,V as Ue}from"./Toolbar-CsNDL-fx.js";import{V as De,a as Ce,u as Xe}from"./VList-DLW9J2nW.js";import{V as oe,m as ge,a as Ea,b as Ie,u as La,c as le,d as qt,e as Et,f as Lt,g as Wt,h as Wa,i as Rt,j as Ge,k as Ft,l as Ht,n as Ut,o as Dt,p as Ra,q as Fa,r as Ha,s as Ve,t as Ua,v as Da,M as Na,w as L,x as je,y as Ya,z as Oa}from"./VListItem-Bke5h3Cn.js";import{V as We}from"./VCard-DUb-gNA_.js";import{V as Nt}from"./VDialog-BAyipjXj.js";import{V as xa,a as Xa}from"./VInfiniteScroll-DODXeIlo.js";import{u as Ga,m as Yt,a as Ot,b as ja,c as Ka}from"./layout-BV3mP8pu.js";import{f as Ja,a as Za,s as el,m as tl,u as al,b as ll,V as xt,c as Xt}from"./VMenu-B4NSoLYY.js";import{m as il,V as bt,a as ol}from"./VCheckboxBtn-BD8bXN7d.js";import{V as Gt,a as sl,b as nl,c as rl}from"./VExpansionPanels-Cyt-v7tF.js";import{B as Z}from"./Button-CmVPPDbA.js";import{L as ul}from"./ListItem-DxQ88xqE.js";import{V as dl}from"./VToolbar-B1onknqE.js";import{V as ke,a as pe}from"./VCardText-DCocaLXE.js";import{V as cl}from"./VVirtualScroll-Cg04i63y.js";const ml=j(ua,[["__scopeId","data-v-42f910eb"]]),vl={class:"media-thumb"},pl={style:{"margin-left":"-10px","padding-right":"5px"}},yl=A({__name:"AddToPlaylistDialog",setup(l){const o=M(!1),s=M([]),a=M([]),r=M(),i=M([]);Ee(()=>{ce.on("playlistdialog",async h=>{o.value=!0,i.value=h.items,r.value=h.parentItem,await u()}),Ye(()=>{ce.off("playlistdialog")})});const u=async function(){s.value=[],a.value=[];const h=await g.getLibraryPlaylists(),p=i.value.length?i.value[0]:void 0;for(const v of h){if(!v.provider_mappings.filter($=>$.available).length||!v.is_editable||r.value&&r.value.media_type===ee.PLAYLIST&&v.item_id===r.value.item_id)continue;const _=g.providers[v.provider_mappings[0].provider_instance];_&&(_.domain=="builtin"||_.is_streaming_provider||p!=null&&p.provider_mappings.filter($=>$.provider_instance==_.instance_id).length)&&s.value.push(v)}for(const v of Object.values(g.providers))v.supported_features.includes(_t.PLAYLIST_CREATE)&&v.supported_features.includes(_t.PLAYLIST_TRACKS_EDIT)&&(v.domain=="builtin"||v.is_streaming_provider||p!=null&&p.provider_mappings.filter(_=>_.provider_instance==v.instance_id).length)&&a.value.push(v.instance_id)},d=async function(h){if(i.value[0].media_type===ee.TRACK)g.addPlaylistTracks(h.item_id,i.value.map(v=>v.uri));else if(i.value[0].media_type===ee.ALBUM){var p=await g.getAlbumTracks(i.value[0].item_id,i.value[0].provider);g.addPlaylistTracks(h.item_id,p.map(v=>v.uri))}n(),t.activeAlert={type:ga.INFO,message:we("background_task_added"),persistent:!1}},y=async function(h){const p=prompt(we("new_playlist_name"));if(!p)return;const v=await g.createPlaylist(p,h);d(v)},n=function(){o.value=!1};return(h,p)=>(c(),C(Nt,{modelValue:o.value,"onUpdate:modelValue":[p[0]||(p[0]=v=>o.value=v),p[1]||(p[1]=v=>{e(t).dialogActive=v})],fullscreen:"",transition:"dialog-bottom-transition"},{default:f(()=>[m(We,null,{default:f(()=>[m(qa,{icon:"mdi-playlist-plus",title:e(we)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:n}]},null,8,["title","menu-items"]),m(De),p[4]||(p[4]=I("br",null,null,-1)),m(Ce,null,{default:f(()=>[(c(!0),b(U,null,J(s.value,v=>(c(),b("div",{key:v.item_id},[m(oe,{onClick:_=>d(v)},{prepend:f(()=>[I("div",vl,[m(ye,{item:v,size:50},null,8,["item"])])]),title:f(()=>[I("div",null,P(v.name),1)]),subtitle:f(()=>[I("div",null,P(v.owner),1)]),append:f(()=>[v.provider_mappings?(c(),C(Re,{key:0,domain:v.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):V("",!0)]),_:2},1032,["onClick"])]))),128)),p[2]||(p[2]=I("div",{style:{height:"30px"}},null,-1)),m(De),p[3]||(p[3]=I("div",{style:{height:"30px"}},null,-1)),(c(!0),b(U,null,J(a.value,v=>(c(),b("div",{key:v},[m(oe,{onClick:_=>y(v)},{prepend:f(()=>[I("div",pl,[m(Re,{domain:e(g).providers[v].domain,size:50},null,8,["domain"])])]),title:f(()=>[I("div",null,P(e(we)("new_playlist")),1)]),subtitle:f(()=>[I("div",null,P(e(we)("create_playlist_on",[e(g).providers[v].name])),1)]),append:f(()=>[m(Re,{domain:e(g).providers[v].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),fl=j(yl,[["__scopeId","data-v-a7c53a67"]]),hl=j(ma,[["__scopeId","data-v-7db34d0b"]]),_l=te({scrollable:Boolean,...ge(),...Ea(),...Ie({tag:"main"})},"VMain"),gl=ae()({name:"VMain",props:_l(),setup(l,o){let{slots:s}=o;const{dimensionStyles:a}=La(l),{mainStyles:r}=Ga(),{ssrBootStyles:i}=Xe();return le(()=>m(l.tag,{class:["v-main",{"v-main--scrollable":l.scrollable},l.class],style:[r.value,i.value,a.value,l.style]},{default:()=>{var u,d;return[l.scrollable?m("div",{class:"v-main__scroller"},[(u=s.default)==null?void 0:u.call(s)]):(d=s.default)==null?void 0:d.call(s)]}})),{}}}),bl=A({__name:"View",setup(l){return(o,s)=>{const a=ba("router-view");return c(),C(gl,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:f(()=>{var r,i,u;return[e(t).navigationMenuStyle=="vertical"?(c(),C(ml,{key:0})):V("",!0),m(a,null,{default:f(({Component:d})=>[(c(),C(wa(d)))]),_:1}),m(fl),m(hl),m(xa,{"model-value":e(t).activeAlert!==void 0,color:((r=e(t).activeAlert)==null?void 0:r.type)||"grey",text:(i=e(t).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(u=e(t).activeAlert)!=null&&u.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),wl=te({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:l=>!l||["horizontal","shift"].includes(l)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...qt(),...ge(),...Et(),...Lt(),...Wt(),...Yt({name:"bottom-navigation"}),...Ie({tag:"header"}),...Wa({selectedClass:"v-btn--selected"}),...Le()},"VBottomNavigation"),kl=ae()({name:"VBottomNavigation",props:wl(),emits:{"update:active":l=>!0,"update:modelValue":l=>!0},setup(l,o){let{slots:s}=o;const{themeClasses:a}=It(),{borderClasses:r}=Rt(l),{backgroundColorClasses:i,backgroundColorStyles:u}=Ge(Y(l,"bgColor")),{densityClasses:d}=Ft(l),{elevationClasses:y}=Ht(l),{roundedClasses:n}=Ut(l),{ssrBootStyles:h}=Xe(),p=Q(()=>Number(l.height)-(l.density==="comfortable"?8:0)-(l.density==="compact"?16:0)),v=Oe(l,"active",l.active),{layoutItemStyles:_}=Ot({id:l.name,order:Q(()=>parseInt(l.order,10)),position:Q(()=>"bottom"),layoutSize:Q(()=>v.value?p.value:0),elementSize:p,active:v,absolute:Y(l,"absolute")});return Dt(l,Ra),St({VBtn:{baseColor:Y(l,"baseColor"),color:Y(l,"color"),density:Y(l,"density"),stacked:Q(()=>l.mode!=="horizontal"),variant:"text"}},{scoped:!0}),le(()=>m(l.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":l.grow,"v-bottom-navigation--shift":l.mode==="shift"},a.value,i.value,r.value,d.value,y.value,n.value,l.class],style:[u.value,_.value,{height:Pe(p.value)},h.value,l.style]},{default:()=>[s.default&&m("div",{class:"v-bottom-navigation__content"},[s.default()])]})),{}}}),Ke=Symbol.for("vuetify:v-tabs"),Pl=te({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Qt(Fa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),_e=ae()({name:"VTab",props:Pl(),setup(l,o){let{slots:s,attrs:a}=o;const{textColorClasses:r,textColorStyles:i}=Ha(l,"sliderColor"),u=M(),d=M(),y=Q(()=>l.direction==="horizontal"),n=Q(()=>{var p,v;return((v=(p=u.value)==null?void 0:p.group)==null?void 0:v.isSelected.value)??!1});function h(p){var _,$;let{value:v}=p;if(v){const T=($=(_=u.value)==null?void 0:_.$el.parentElement)==null?void 0:$.querySelector(".v-tab--selected .v-tab__slider"),z=d.value;if(!T||!z)return;const K=getComputedStyle(T).color,N=T.getBoundingClientRect(),O=z.getBoundingClientRect(),w=y.value?"x":"y",k=y.value?"X":"Y",B=y.value?"right":"bottom",q=y.value?"width":"height",x=N[w],X=O[w],D=x>X?N[B]-O[B]:N[w]-O[w],re=Math.sign(D)>0?y.value?"right":"bottom":Math.sign(D)<0?y.value?"left":"top":"center",ue=(Math.abs(D)+(Math.sign(D)<0?N[q]:O[q]))/Math.max(N[q],O[q])||0,de=N[q]/O[q]||0,be=1.5;Za(z,{backgroundColor:[K,"currentcolor"],transform:[`translate${k}(${D}px) scale${k}(${de})`,`translate${k}(${D/be}px) scale${k}(${(ue-1)/be+1})`,"none"],transformOrigin:Array(3).fill(re)},{duration:225,easing:el})}}return le(()=>{const p=Ve.filterProps(l);return m(Ve,R({symbol:Ke,ref:u,class:["v-tab",l.class],style:l.style,tabindex:n.value?0:-1,role:"tab","aria-selected":String(n.value),active:!1},p,a,{block:l.fixed,maxWidth:l.fixed?300:void 0,"onGroup:selected":h}),{...s,default:()=>{var v;return m(U,null,[((v=s.default)==null?void 0:v.call(s))??l.text,!l.hideSlider&&m("div",{ref:d,class:["v-tab__slider",r.value],style:i.value},null)])}})}),Ja({},u)}}),Cl=l=>{const{touchstartX:o,touchendX:s,touchstartY:a,touchendY:r}=l,i=.5,u=16;l.offsetX=s-o,l.offsetY=r-a,Math.abs(l.offsetY)<i*Math.abs(l.offsetX)&&(l.left&&s<o-u&&l.left(l),l.right&&s>o+u&&l.right(l)),Math.abs(l.offsetX)<i*Math.abs(l.offsetY)&&(l.up&&r<a-u&&l.up(l),l.down&&r>a+u&&l.down(l))};function Vl(l,o){var a;const s=l.changedTouches[0];o.touchstartX=s.clientX,o.touchstartY=s.clientY,(a=o.start)==null||a.call(o,{originalEvent:l,...o})}function $l(l,o){var a;const s=l.changedTouches[0];o.touchendX=s.clientX,o.touchendY=s.clientY,(a=o.end)==null||a.call(o,{originalEvent:l,...o}),Cl(o)}function Il(l,o){var a;const s=l.changedTouches[0];o.touchmoveX=s.clientX,o.touchmoveY=s.clientY,(a=o.move)==null||a.call(o,{originalEvent:l,...o})}function Sl(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:l.left,right:l.right,up:l.up,down:l.down,start:l.start,move:l.move,end:l.end};return{touchstart:s=>Vl(s,o),touchend:s=>$l(s,o),touchmove:s=>Il(s,o)}}function Ql(l,o){var d;const s=o.value,a=s!=null&&s.parent?l.parentElement:l,r=(s==null?void 0:s.options)??{passive:!0},i=(d=o.instance)==null?void 0:d.$.uid;if(!a||!i)return;const u=Sl(o.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[i]=u,Tt(u).forEach(y=>{a.addEventListener(y,u[y],r)})}function Tl(l,o){var i,u;const s=(i=o.value)!=null&&i.parent?l.parentElement:l,a=(u=o.instance)==null?void 0:u.$.uid;if(!(s!=null&&s._touchHandlers)||!a)return;const r=s._touchHandlers[a];Tt(r).forEach(d=>{s.removeEventListener(d,r[d])}),delete s._touchHandlers[a]}const jt={mounted:Ql,unmounted:Tl},Kt=Symbol.for("vuetify:v-window"),Jt=Symbol.for("vuetify:v-window-group"),Zt=te({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||l==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ge(),...Ie(),...Le()},"VWindow"),wt=ae()({name:"VWindow",directives:{Touch:jt},props:Zt(),emits:{"update:modelValue":l=>!0},setup(l,o){let{slots:s}=o;const{themeClasses:a}=xe(l),{isRtl:r}=Bt(),{t:i}=ka(),u=Dt(l,Jt),d=M(),y=Q(()=>r.value?!l.reverse:l.reverse),n=Qe(!1),h=Q(()=>{const w=l.direction==="vertical"?"y":"x",B=(y.value?!n.value:n.value)?"-reverse":"";return`v-window-${w}${B}-transition`}),p=Qe(0),v=M(void 0),_=Q(()=>u.items.value.findIndex(w=>u.selected.value.includes(w.id)));ne(_,(w,k)=>{const B=u.items.value.length,q=B-1;B<=2?n.value=w<k:w===q&&k===0?n.value=!0:w===0&&k===q?n.value=!1:n.value=w<k}),Pa(Kt,{transition:h,isReversed:n,transitionCount:p,transitionHeight:v,rootRef:d});const $=Q(()=>l.continuous||_.value!==0),T=Q(()=>l.continuous||_.value!==u.items.value.length-1);function z(){$.value&&u.prev()}function K(){T.value&&u.next()}const N=Q(()=>{const w=[],k={icon:r.value?l.nextIcon:l.prevIcon,class:`v-window__${y.value?"right":"left"}`,onClick:u.prev,"aria-label":i("$vuetify.carousel.prev")};w.push($.value?s.prev?s.prev({props:k}):m(Ve,k,null):m("div",null,null));const B={icon:r.value?l.prevIcon:l.nextIcon,class:`v-window__${y.value?"left":"right"}`,onClick:u.next,"aria-label":i("$vuetify.carousel.next")};return w.push(T.value?s.next?s.next({props:B}):m(Ve,B,null):m("div",null,null)),w}),O=Q(()=>l.touch===!1?l.touch:{...{left:()=>{y.value?z():K()},right:()=>{y.value?K():z()},start:k=>{let{originalEvent:B}=k;B.stopPropagation()}},...l.touch===!0?{}:l.touch});return le(()=>zt(m(l.tag,{ref:d,class:["v-window",{"v-window--show-arrows-on-hover":l.showArrows==="hover"},a.value,l.class],style:l.style},{default:()=>{var w,k;return[m("div",{class:"v-window__container",style:{height:v.value}},[(w=s.default)==null?void 0:w.call(s,{group:u}),l.showArrows!==!1&&m("div",{class:"v-window__controls"},[N.value])]),(k=s.additional)==null?void 0:k.call(s,{group:u})]}}),[[Ca("touch"),O.value]])),{group:u}}}),Bl=te({...Qt(Zt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),zl=ae()({name:"VTabsWindow",props:Bl(),emits:{"update:modelValue":l=>!0},setup(l,o){let{slots:s}=o;const a=Mt(Ke,null),r=Oe(l,"modelValue"),i=Q({get(){var u;return r.value!=null||!a?r.value:(u=a.items.value.find(d=>a.selected.value.includes(d.id)))==null?void 0:u.value},set(u){r.value=u}});return le(()=>{const u=wt.filterProps(l);return m(wt,R({_as:"VTabsWindow"},u,{modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,class:["v-tabs-window",l.class],style:l.style,mandatory:!1,touch:!1}),s)}),{}}}),ea=te({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ge(),...Ua(),...tl()},"VWindowItem"),kt=ae()({name:"VWindowItem",directives:{Touch:jt},props:ea(),emits:{"group:selected":l=>!0},setup(l,o){let{slots:s}=o;const a=Mt(Kt),r=Da(l,Jt),{isBooted:i}=Xe();if(!a||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const u=Qe(!1),d=Q(()=>i.value&&(a.isReversed.value?l.reverseTransition!==!1:l.transition!==!1));function y(){!u.value||!a||(u.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function n(){var $;u.value||!a||(u.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=Pe(($=a.rootRef.value)==null?void 0:$.clientHeight)),a.transitionCount.value+=1)}function h(){y()}function p($){u.value&&$a(()=>{!d.value||!u.value||!a||(a.transitionHeight.value=Pe($.clientHeight))})}const v=Q(()=>{const $=a.isReversed.value?l.reverseTransition:l.transition;return d.value?{name:typeof $!="string"?a.transition.value:$,onBeforeEnter:n,onAfterEnter:y,onEnterCancelled:h,onBeforeLeave:n,onAfterLeave:y,onLeaveCancelled:h,onEnter:p}:!1}),{hasContent:_}=al(l,r.isSelected);return le(()=>m(Na,{transition:v.value,disabled:!i.value},{default:()=>{var $;return[zt(m("div",{class:["v-window-item",r.selectedClass.value,l.class],style:l.style},[_.value&&(($=s.default)==null?void 0:$.call(s))]),[[Va,r.isSelected.value]])]}})),{groupItem:r}}}),Ml=te({...ea()},"VTabsWindowItem"),Al=ae()({name:"VTabsWindowItem",props:Ml(),setup(l,o){let{slots:s}=o;return le(()=>{const a=kt.filterProps(l);return m(kt,R({_as:"VTabsWindowItem"},a,{class:["v-tabs-window-item",l.class],style:l.style}),s)}),{}}});function ql(l){return l?l.map(o=>Ia(o)?o:{text:o,value:o}):[]}const El=te({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...il({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Et(),...Ie()},"VTabs"),Ne=ae()({name:"VTabs",props:El(),emits:{"update:modelValue":l=>!0},setup(l,o){let{attrs:s,slots:a}=o;const r=Oe(l,"modelValue"),i=Q(()=>ql(l.items)),{densityClasses:u}=Ft(l),{backgroundColorClasses:d,backgroundColorStyles:y}=Ge(Y(l,"bgColor")),{scopeId:n}=ll();return St({VTab:{color:Y(l,"color"),direction:Y(l,"direction"),stacked:Y(l,"stacked"),fixed:Y(l,"fixedTabs"),sliderColor:Y(l,"sliderColor"),hideSlider:Y(l,"hideSlider")}}),le(()=>{const h=bt.filterProps(l),p=!!(a.window||l.items.length>0);return m(U,null,[m(bt,R(h,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,class:["v-tabs",`v-tabs--${l.direction}`,`v-tabs--align-tabs-${l.alignTabs}`,{"v-tabs--fixed-tabs":l.fixedTabs,"v-tabs--grow":l.grow,"v-tabs--stacked":l.stacked},u.value,d.value,l.class],style:[{"--v-tabs-height":Pe(l.height)},y.value,l.style],role:"tablist",symbol:Ke},n,s),{default:()=>{var v;return[((v=a.default)==null?void 0:v.call(a))??i.value.map(_=>{var $;return(($=a.tab)==null?void 0:$.call(a,{item:_}))??m(_e,R(_,{key:_.text,value:_.value}),{default:a[`tab.${_.value}`]?()=>{var T;return(T=a[`tab.${_.value}`])==null?void 0:T.call(a,{item:_})}:void 0})})]}}),p&&m(zl,R({modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,key:"tabs-window"},n),{default:()=>{var v;return[i.value.map(_=>{var $;return(($=a.item)==null?void 0:$.call(a,{item:_}))??m(Al,{value:_.value},{default:()=>{var T;return(T=a[`item.${_.value}`])==null?void 0:T.call(a,{item:_})}})}),(v=a.window)==null?void 0:v.call(a)]}})])}),{}}}),Ll={class:"menuButton"},Wl={class:"menuButton"},Rl={class:"menuButton"},Fl=A({__name:"BottomNavigation",props:{height:{}},setup(l){const o=da(),s=Q(()=>{for(const a of o)if(Te.currentRoute.value.path.startsWith(a.path))return!W("tablet")&&a.isLibraryNode?"library":a.label;return""});return(a,r)=>(c(),C(kl,{height:a.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:f(()=>[e(W)("tablet")?(c(),C(Ne,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent","center-active":""},{default:f(()=>[(c(!0),b(U,null,J(e(o),i=>(c(),C(_e,{key:i.label,to:i.path,value:i.label},{default:f(()=>[m(L,{size:"xx-large"},{default:f(()=>[E(P(i.icon),1)]),_:2},1024),I("span",Ll,P(a.$t(i.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(c(),C(Ne,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent"},{default:f(()=>[(c(!0),b(U,null,J(e(o).filter(i=>!i.isLibraryNode),i=>(c(),C(_e,{key:i.label,to:i.path,value:i.label},{default:f(()=>[m(L,{size:"xx-large"},{default:f(()=>[E(P(i.icon),1)]),_:2},1024),I("span",Wl,P(a.$t(i.label)),1)]),_:2},1032,["to","value"]))),128)),m(xt,null,{activator:f(({props:i})=>[m(_e,R({key:"library"},i,{value:"library"}),{default:f(()=>[m(L,{size:"xx-large"},{default:f(()=>r[0]||(r[0]=[E("mdi-bookshelf")])),_:1}),I("span",Rl,P(a.$t("library")),1)]),_:2},1040)]),default:f(()=>[m(Ce,null,{default:f(()=>[(c(!0),b(U,null,J(e(o).filter(i=>i.isLibraryNode),i=>(c(),C(oe,{key:i.label,title:a.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}}),Hl={style:{width:"auto"}},Ul={key:0,style:{width:"100%"}},Dl={key:0,class:"time-text-row"},Nl={class:"text-caption time-text-right"},Yl=A({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1}},setup(l){const o=M(!1),s=M(!0),a=M(!1),r=M(0),i=M(0),u=Q(()=>t.curQueueItem?o.value?`-${Se(t.curQueueItem.duration-y.value)}`:`${Se(y.value)}`:"0:00"),d=Q(()=>{var _;if(!t.curQueueItem||!t.curQueueItem.duration||((_=t.curQueueItem.media_item)==null?void 0:_.media_type)==ee.RADIO)return"";const v=t.curQueueItem.duration;return Se(v)}),y=Q(()=>a.value?(i.value=r.value,r.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);ne(y,v=>{a.value||(r.value=v)});const n=function(){a.value=!0},h=()=>{a.value=!1,p(i.value)},p=v=>{var _;a.value||g.queueCommandSeek(((_=t.activePlayerQueue)==null?void 0:_.queue_id)||"",Math.round(v))};return(v,_)=>{var $;return c(),b("div",Hl,[e(t).activePlayerQueue?(c(),b("div",Ul,[m(Gt,{modelValue:r.value,"onUpdate:modelValue":_[0]||(_[0]=T=>r.value=T),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||(($=e(t).curQueueItem.media_item)==null?void 0:$.media_type)!=e(ee).TRACK,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":s.value?0:10,onTouchstart:_[1]||(_[1]=T=>s.value=!1),onTouchend:_[2]||(_[2]=T=>s.value=!0),onMouseenter:_[3]||(_[3]=T=>s.value=!1),onMouseleave:_[4]||(_[4]=T=>s.value=!0),onStart:n,onEnd:h},null,8,["modelValue","disabled","max","thumb-size"]),v.showLabels?(c(),b("div",Dl,[I("div",{class:"text-caption time-text-left",onClick:_[5]||(_[5]=T=>o.value?o.value=!1:o.value=!0)},P(u.value),1),I("div",Nl,P(d.value),1)])):V("",!0)])):V("",!0)])}}}),ta=j(Yl,[["__scopeId","data-v-d86a08db"]]),Ol=A({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["clicked"],setup(l,{emit:o}){const s=()=>{if(a.value){const i=a.value.offsetWidth,u=a.value.offsetHeight,d=Math.min(i,u);r.value.$el.style.fontSize=`${d}px`}},a=M(),r=M();return Ee(()=>{s(),window.addEventListener("resize",s)}),Ye(()=>{window.removeEventListener("resize",s)}),(i,u)=>(c(),b("div",{ref_key:"responsiveIconHolder",ref:a,class:Be([i.type=="btn"&&!i.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:H({width:i.staticWidth?i.staticWidth:i.width,height:i.staticWidth?i.staticWidth:i.height,maxHeight:i.staticHeight?i.staticHeight:i.maxHeight,maxWidth:i.staticWidth?i.staticWidth:i.maxWidth,minHeight:i.staticHeight?i.staticHeight:i.minHeight,minWidth:i.staticWidth?i.staticWidth:i.minWidth}),onClick:u[0]||(u[0]=G(d=>i.disabled?d.preventDefault():i.$emit("clicked"),["stop"]))},[m(Ue,{"model-value":i.badge==!0,color:"error",dot:""},{default:f(()=>[i.type==="icon"?(c(),C(L,{key:0,ref_key:"responsiveIcon",ref:r,class:"responsive-icon",color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},Fe({_:2},[J(i.$slots,(d,y)=>({name:y,fn:f(()=>[He(i.$slots,y,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):i.type==="btn"?(c(),C(L,{key:1,ref_key:"responsiveIcon",ref:r,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},Fe({_:2},[J(i.$slots,(d,y)=>({name:y,fn:f(()=>[He(i.$slots,y,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):V("",!0)]),_:3},8,["model-value"])],6))}}),se=j(Ol,[["__scopeId","data-v-83fe280b"]]),aa=A({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(o,s)=>{var a,r,i,u,d,y,n,h;return o.isVisible?(c(),C(se,R({key:0},o.icon,{disabled:!e(t).activePlayerQueue||!e(t).activePlayerQueue.active||e(t).activePlayerQueue.items==0,color:e(fe)((a=o.icon)==null?void 0:a.color,[[((r=e(t).activePlayerQueue)==null?void 0:r.repeat_mode)==e(F).OFF,null],[((i=e(t).activePlayerQueue)==null?void 0:i.repeat_mode)==e(F).ALL,"primary"],[((u=e(t).activePlayerQueue)==null?void 0:u.repeat_mode)==e(F).ONE,"primary"]]),icon:e(fe)((d=o.icon)==null?void 0:d.icon,[[((y=e(t).activePlayerQueue)==null?void 0:y.repeat_mode)==e(F).OFF,"mdi-repeat-off"],[((n=e(t).activePlayerQueue)==null?void 0:n.repeat_mode)==e(F).ALL,"mdi-repeat"],[((h=e(t).activePlayerQueue)==null?void 0:h.repeat_mode)==e(F).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClicked:s[0]||(s[0]=p=>{var v,_,$,T;return e(g).queueCommandRepeat(((v=e(t).activePlayerQueue)==null?void 0:v.queue_id)||"",e(fe)(null,[[((_=e(t).activePlayerQueue)==null?void 0:_.repeat_mode)==e(F).OFF,e(F).ONE],[(($=e(t).activePlayerQueue)==null?void 0:$.repeat_mode)==e(F).ALL,e(F).OFF],[((T=e(t).activePlayerQueue)==null?void 0:T.repeat_mode)==e(F).ONE,e(F).ALL]]))})}),null,16,["disabled","color","icon"])):V("",!0)}}}),la=A({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(o,s)=>{var a,r,i,u,d,y,n;return o.isVisible?(c(),C(se,R({key:0},o.icon,{disabled:!e(t).activePlayerQueue||!((a=e(t).activePlayerQueue)!=null&&a.active)||((r=e(t).activePlayerQueue)==null?void 0:r.items)==0,color:e(fe)((i=o.icon)==null?void 0:i.color,[[(u=e(t).activePlayerQueue)==null?void 0:u.shuffle_enabled,"primary",""]]),icon:e(fe)((d=o.icon)==null?void 0:d.icon,[[(y=e(t).activePlayerQueue)==null?void 0:y.shuffle_enabled,"mdi-shuffle"],[((n=e(t).activePlayerQueue)==null?void 0:n.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClicked:s[0]||(s[0]=h=>{var p,v;return e(g).queueCommandShuffle(((p=e(t).activePlayerQueue)==null?void 0:p.queue_id)||"",!((v=e(t).activePlayerQueue)!=null&&v.shuffle_enabled))})}),null,16,["disabled","color","icon"])):V("",!0)}}}),Je=A({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(l){const o=l,s=Q(()=>{var a;return((a=o.player)==null?void 0:a.state)==ze.PLAYING?"mdi-pause":"mdi-play"});return(a,r)=>{var i,u;return a.isVisible&&a.playerQueue?(c(),C(se,R({key:0},a.icon,{disabled:a.playerQueue.items==0,icon:a.iconStyle?`${s.value}-${a.iconStyle}`:s.value,type:"btn",onClicked:r[0]||(r[0]=d=>e(g).queueCommandPlayPause(a.playerQueue.queue_id))}),null,16,["disabled","icon"])):a.isVisible&&((i=a.player)==null?void 0:i.state)==e(ze).PLAYING?(c(),C(se,R({key:1},a.icon,{icon:"mdi-stop",type:"btn",onClick:r[1]||(r[1]=d=>e(g).queueCommandStop(a.player.player_id))}),null,16)):a.isVisible?(c(),C(se,R({key:2},a.icon,{disabled:!((u=a.player)!=null&&u.active_source),icon:`mdi-play-${a.iconStyle}`,type:"btn",onClicked:r[2]||(r[2]=d=>{var y;return e(g).playerCommandPlay((y=a.player)==null?void 0:y.player_id)})}),null,16,["disabled","icon"])):V("",!0)}}}),ia=A({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(o,s)=>{var a,r;return o.isVisible?(c(),C(se,R({key:0},o.icon,{disabled:!e(t).activePlayerQueue||!((a=e(t).activePlayerQueue)!=null&&a.active)||((r=e(t).activePlayerQueue)==null?void 0:r.items)<=1,icon:"mdi-skip-previous-outline",type:"btn",onClicked:s[0]||(s[0]=i=>e(g).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):V("",!0)}}}),oa=A({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(o,s)=>{var a,r;return o.isVisible?(c(),C(se,R({key:0},o.icon,{disabled:!e(t).activePlayerQueue||!((a=e(t).activePlayerQueue)!=null&&a.active)||((r=e(t).activePlayerQueue)==null?void 0:r.items)<=1,icon:"mdi-skip-next-outline",type:"btn",onClicked:s[0]||(s[0]=i=>e(g).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):V("",!0)}}}),xl={key:0,class:"player-controls"},Xl={key:0,class:"player-controls-elements"},Gl={key:1,class:"player-controls-elements"},jl={key:2},Kl={key:3,class:"player-controls-elements"},Jl={key:4,class:"player-controls-elements"},Pt=A({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(l){return(o,s)=>{var a,r,i,u,d;return o.visibleComponents?(c(),b("div",xl,[o.visibleComponents&&((a=o.visibleComponents.shuffle)!=null&&a.isVisible)?(c(),b("div",Xl,[m(la,{class:"media-controls-item",icon:o.visibleComponents.shuffle.icon},null,8,["icon"])])):V("",!0),o.visibleComponents&&((r=o.visibleComponents.previous)!=null&&r.isVisible)?(c(),b("div",Gl,[m(ia,{class:"media-controls-item",icon:o.visibleComponents.previous.icon},null,8,["icon"])])):V("",!0),o.visibleComponents&&((i=o.visibleComponents.play)!=null&&i.isVisible)?(c(),b("div",jl,[m(Je,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","icon-style":o.visibleComponents.play.withCircle?"circle":"",icon:o.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):V("",!0),o.visibleComponents&&((u=o.visibleComponents.next)!=null&&u.isVisible)?(c(),b("div",Kl,[m(oa,{icon:o.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):V("",!0),o.visibleComponents&&((d=o.visibleComponents.repeat)!=null&&d.isVisible)?(c(),b("div",Jl,[m(aa,{icon:o.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):V("",!0)])):V("",!0)}}}),Zl={props:{width:String,height:String,style:String,isPowered:Boolean,allowWheel:Boolean},emits:["update:model-value"],setup(l,o){const s=M(!0),a=Q(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:s.value?0:10,step:2,elevation:0,style:`width: ${l.width}; height:${l.height}; display: inline-grid; ${l.style}`,disabled:!l.isPowered})),r=Q(()=>({...a.value,...o}));return{isThumbHidden:s,playerVolumeProps:r,onWheel:({deltaY:u})=>{if(!l.allowWheel)return;const d=r.value.step,y=o.attrs["model-value"],n=u<0?d:-d;o.emit("update:model-value",y+n)}}}};function ei(l,o,s,a,r,i){return c(),C(Gt,R(a.playerVolumeProps,{onTouchstart:o[0]||(o[0]=u=>a.isThumbHidden=!1),onTouchend:o[1]||(o[1]=u=>a.isThumbHidden=!0),onMouseenter:o[2]||(o[2]=u=>a.isThumbHidden=!1),onMouseleave:o[3]||(o[3]=u=>a.isThumbHidden=!0),onWheel:G(a.onWheel,["prevent"]),onEnd:o[4]||(o[4]=u=>l.$emit("update:model-value",u))}),Fe({_:2},[J(l.$slots,(u,d)=>({name:d,fn:f(()=>[He(l.$slots,d,{},void 0,!0)])}))]),1040,["onWheel"])}const $e=j(Zl,[["render",ei],["__scopeId","data-v-dce2c4f7"]]),sa=A({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const o=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(s,a)=>{var r;return s.isVisible?(c(),C(se,R({key:0},s.icon,{disabled:!e(t).activePlayerId||e(t).showFullscreenPlayer&&!e(t).curQueueItem&&!e(t).showQueueItems,icon:"mdi-playlist-play",color:e(fe)((r=s.icon)==null?void 0:r.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClicked:o}),null,16,["disabled","color"])):V("",!0)}}}),na=(l,o)=>{const s=[{label:l.powered?"power_off_player":"power_on_player",labelArgs:[],action:()=>{g.playerCommandPowerToggle(l.player_id)},icon:"mdi-power"}],a=Object.values(g.players).filter(r=>r.player_id!=l.player_id&&r.available&&r.enabled&&r.provider==l.provider&&r.supported_features.includes(he.SYNC)&&!r.synced_to);return l.supported_features.includes(he.SYNC)&&!l.synced_to&&l.type==me.PLAYER&&l.group_childs.length==0&&a.length>0&&s.push({label:"sync_player_with",labelArgs:[],icon:"mdi-link-variant",subItems:a.map(r=>({label:r.display_name,labelArgs:[],action:()=>{g.playerCommandSync(l.player_id,r.player_id)}})).sort((r,i)=>{var u;return r.label.toUpperCase()>((u=i.label)==null?void 0:u.toUpperCase())?1:-1})}),o&&s.push({label:o.shuffle_enabled?"shuffle_disable":"shuffle_enable",labelArgs:[],action:()=>{g.queueCommandShuffleToggle(o.queue_id)},icon:o.shuffle_enabled?"mdi-shuffle-disabled":"mdi-shuffle"}),o&&s.push({label:"select_repeat_mode",labelArgs:[],subItems:[{label:"repeat_mode.off",labelArgs:[],action:()=>{g.queueCommandRepeat(o.queue_id,F.OFF)},selected:o.repeat_mode==F.OFF},{label:"repeat_mode.all",labelArgs:[],action:()=>{g.queueCommandRepeat(o.queue_id,F.ALL)},selected:o.repeat_mode==F.ALL},{label:"repeat_mode.one",labelArgs:[],action:()=>{g.queueCommandRepeat(o.queue_id,F.ONE)},selected:o.repeat_mode==F.ONE}],icon:"mdi-repeat"}),o!=null&&o.items&&s.push({label:"transfer_queue",icon:"mdi-swap-horizontal",subItems:Object.values(g.players).filter(r=>r.player_id!=o.queue_id&&r.player_id!=l.player_id&&r.available&&r.enabled&&!r.synced_to).map(r=>({label:r.display_name,labelArgs:[],action:()=>{g.queueCommandTransfer(o.queue_id,r.player_id),t.activePlayerId=r.player_id}})).sort((r,i)=>{var u;return r.label.toUpperCase()>((u=i.label)==null?void 0:u.toUpperCase())?1:-1})}),o!=null&&o.items&&s.push({label:"queue_clear",labelArgs:[],action:()=>{g.queueCommandClear(o.queue_id)},icon:"mdi-cancel"}),o&&"dont_stop_the_music_enabled"in o&&s.push({label:o.dont_stop_the_music_enabled?"dont_stop_the_music_disable":"dont_stop_the_music_enable",labelArgs:[],action:()=>{g.queueCommandDontStopTheMusicToggle(o.queue_id)},icon:"mdi-all-inclusive"}),s.push({label:"open_player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,t.showPlayersMenu=!1,Te.push(`/settings/editplayer/${l.player_id}`)},icon:"mdi-cog-outline"}),s},ti={class:"main"},ai={key:0,class:"main-media-details"},li={key:0,class:"main-media-details-image"},ii={class:"main-media-details-track-info"},oi={key:0},si={key:0},ni={style:{margin:"auto","padding-top":"20px"}},ri={key:1,class:"main-queue-items"},ui={class:"queue-items-scroll-box"},di={class:"media-thumb listitem-media-thumb"},ci={key:0},mi={key:2,class:"main-queue-items"},vi={class:"main-media-details-image main-media-details-image-alt"},pi={class:"player-bottom"},yi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},fi={class:"media-controls"},hi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},_i={key:0,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},gi=A({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(l){Sa();const{name:o}=At(),s=l,a=M([]),r=M(""),i=M(0),u=M(!1),d=Q(()=>t.activePlayerQueue?a.value.slice(t.activePlayerQueue.current_index):[]),y=Q(()=>t.activePlayerQueue?a.value.slice(0,t.activePlayerQueue.current_index):[]),n=Q(()=>{switch(o.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),h=Q(()=>{switch(o.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),p=function(w){t.showFullscreenPlayer=!1,Te.push({name:w.media_type,params:{itemId:w.item_id,provider:w.provider}})},v=function(w){t.globalSearchTerm=w,Te.push({name:"search"}),t.showFullscreenPlayer=!1},_=function(w,k){var x,X,D,re,ve,ue,de;const B=a.value.indexOf(k),q=[{label:"play_now",labelArgs:[],action:()=>{T(k,"play_now")},icon:"mdi-play-circle-outline",disabled:B===((x=t.activePlayerQueue)==null?void 0:x.current_index)||B===((X=t.activePlayerQueue)==null?void 0:X.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{T(k,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:B<=(((D=t.activePlayerQueue)==null?void 0:D.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{T(k,"up")},icon:"mdi-arrow-up",disabled:B<=(((re=t.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{T(k,"down")},icon:"mdi-arrow-down",disabled:B<=(((ve=t.activePlayerQueue)==null?void 0:ve.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{T(k,"delete")},icon:"mdi-delete",disabled:B<=(((ue=t.activePlayerQueue)==null?void 0:ue.index_in_buffer)||0)}];((de=k==null?void 0:k.media_item)==null?void 0:de.media_type)==ee.TRACK&&q.push({label:"show_info",labelArgs:[],action:()=>{p(k.media_item)},icon:"mdi-information-outline",disabled:!1}),ce.emit("contextmenu",{items:q,posX:w.clientX,posY:w.clientY})},$=function(w){t.activePlayer&&ce.emit("contextmenu",{items:na(t.activePlayer,t.activePlayerQueue),posX:w.clientX,posY:w.clientY})},T=function(w,k){var B,q,x,X,D;!w||!t.activePlayerQueue||(k=="play_now"?g.queueCommandPlayIndex((B=t.activePlayerQueue)==null?void 0:B.queue_id,w.queue_item_id):k=="move_next"?g.queueCommandMoveNext((q=t.activePlayerQueue)==null?void 0:q.queue_id,w.queue_item_id):k=="up"?g.queueCommandMoveUp((x=t.activePlayerQueue)==null?void 0:x.queue_id,w.queue_item_id):k=="down"?g.queueCommandMoveDown((X=t.activePlayerQueue)==null?void 0:X.queue_id,w.queue_item_id):k=="delete"&&g.queueCommandDelete((D=t.activePlayerQueue)==null?void 0:D.queue_id,w.queue_item_id))},z=async function(w=!1){if(u.value=!0,w&&(a.value=[]),t.activePlayerQueue){const k=a.value.length,B=(t.activePlayerQueue.current_index||0)+50,q=await g.getPlayerQueueItems(t.activePlayerQueue.queue_id,B,k);a.value.push(...q)}u.value=!1},K=function({done:w}){var k;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){w("empty");return}if(a.value.length>=((k=t.activePlayerQueue)==null?void 0:k.items)){w("empty");return}z(!1).then(()=>{w("ok")})};Ee(()=>{const w=g.subscribe(Qa.QUEUE_ITEMS_UPDATED,k=>{var B;k.object_id==((B=t.activePlayerQueue)==null?void 0:B.queue_id)&&z(!0)});Ye(w)});const N=function(w){var B;if(!((B=t.curQueueItem)!=null&&B.media_item))return;if(!t.curQueueItem.media_item.favorite){g.toggleFavorite(t.curQueueItem.media_item);return}const k=[{label:"favorites_remove",labelArgs:[],action:()=>{g.toggleFavorite(t.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{ce.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];ce.emit("contextmenu",{items:k,posX:w.clientX,posY:w.clientY})},O=function(){u.value=!0,ya(100).then(()=>{u.value=!1})};return ne(()=>t.activePlayerId,w=>{z(!0)},{immediate:!0}),ne(()=>s.colorPalette,w=>{!w.darkColor||!w.lightColor?r.value=Me.theme.current.value.dark?"#000":"#fff":r.value=Me.theme.current.value.dark?w.darkColor:w.lightColor}),(w,k)=>(c(),C(Nt,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":k[12]||(k[12]=B=>e(t).showFullscreenPlayer=B),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:f(()=>[m(We,{color:e(pa)(r.value,70,80)},{default:f(()=>{var B,q,x,X,D,re,ve,ue,de,be,Ze,et,tt,at,lt,it,ot,st,nt,rt,ut,dt;return[m(dl,{class:"v-toolbar-default",color:"transparent"},{prepend:f(()=>[m(Z,{icon:"",onClick:k[0]||(k[0]=S=>e(t).showFullscreenPlayer=!1)},{default:f(()=>[m(L,{icon:"mdi-chevron-down"})]),_:1})]),append:f(()=>[m(Z,{icon:"",onClick:k[1]||(k[1]=S=>e(t).showFullscreenPlayer=!1)},{default:f(()=>[m(L,{icon:"mdi-dots-vertical",onClick:G($,["stop"])})]),_:1})]),_:1}),I("div",ti,[e(W)("bp7")||!e(t).showQueueItems?(c(),b("div",ai,[w.$vuetify.display.height>600?(c(),b("div",li,[!((B=e(t).curQueueItem)!=null&&B.image)&&((x=(q=e(t).activePlayer)==null?void 0:q.current_media)!=null&&x.image_url)?(c(),C(je,{key:0,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).activePlayer.current_media.image_url},null,8,["src"])):(c(),C(ye,{key:1,item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:w.$vuetify.theme.current.dark?e(Ae):e(Vt)},null,8,["item","fallback"]))])):V("",!0),I("div",ii,[((X=e(t).activePlayer)==null?void 0:X.powered)==!1?(c(),C(ke,{key:0,style:H(`font-size: ${n.value};`)},{default:f(()=>{var S;return[E(P((S=e(t).activePlayer)==null?void 0:S.display_name),1)]}),_:1},8,["style"])):(D=e(t).curQueueItem)!=null&&D.media_item?(c(),C(ke,{key:1,style:H(`font-size: ${n.value};cursor:pointer;`),onClick:k[2]||(k[2]=S=>p(e(t).curQueueItem.media_item))},{default:f(()=>[E(P(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(c(),b("span",oi,"("+P(e(t).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["style"])):(ve=(re=e(t).activePlayer)==null?void 0:re.current_media)!=null&&ve.title?(c(),C(ke,{key:2},{default:f(()=>{var S,ie,ct,mt,vt,pt,yt,ft;return[(ie=(S=e(t).activePlayer)==null?void 0:S.current_media)!=null&&ie.artist?(c(),b("div",si,P((mt=(ct=e(t).activePlayer)==null?void 0:ct.current_media)==null?void 0:mt.artist),1)):V("",!0),(pt=(vt=e(t).activePlayer)==null?void 0:vt.current_media)!=null&&pt.title?(c(),b("div",{key:1,style:H(`font-size: ${h.value};`)},P((ft=(yt=e(t).activePlayer)==null?void 0:yt.current_media)==null?void 0:ft.title),5)):V("",!0)]}),_:1})):(c(),C(ke,{key:3,style:H(`font-size: ${n.value};cursor:pointer;`),onClick:k[3]||(k[3]=S=>e(t).showPlayersMenu=!0)},{default:f(()=>{var S;return[E(P(((S=e(t).activePlayer)==null?void 0:S.display_name)||w.$t("no_player")),1)]}),_:1},8,["style"])),(ue=e(t).activePlayer)!=null&&ue.powered?V("",!0):(c(),C(pe,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:f(()=>[E(P(w.$t("off")),1)]),_:1})),((be=(de=e(t).curQueueItem)==null?void 0:de.media_item)==null?void 0:be.media_type)==e(ee).RADIO&&((et=(Ze=e(t).curQueueItem)==null?void 0:Ze.streamdetails)!=null&&et.stream_title)?(c(),C(pe,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:k[4]||(k[4]=S=>v(e(t).curQueueItem.streamdetails.stream_title))},{default:f(()=>[E(P(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):V("",!0),(tt=e(t).curQueueItem)!=null&&tt.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(c(),C(pe,{key:6,style:H(`font-size: ${h.value};cursor:pointer;`),onClick:k[5]||(k[5]=S=>p(e(t).curQueueItem.media_item.album))},{default:f(()=>[E(P(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):V("",!0),(at=e(t).curQueueItem)!=null&&at.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(c(),C(pe,{key:7,style:H(`font-size: ${h.value};cursor:pointer;`),onClick:k[6]||(k[6]=S=>p(e(t).curQueueItem.media_item.artists[0]))},{default:f(()=>[E(P(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):((lt=e(t).activePlayer)==null?void 0:lt.active_source)!=((it=e(t).activePlayer)==null?void 0:it.player_id)?(c(),C(pe,{key:8},{default:f(()=>{var S;return[E(P(w.$t("external_source_active",[(S=e(t).activePlayer)==null?void 0:S.active_source])),1)]}),_:1})):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(c(),C(pe,{key:9,style:H(`font-size: ${h.value}`)},{default:f(()=>[E(P(w.$t("queue_empty")),1)]),_:1},8,["style"])):V("",!0),I("div",ni,[m(va)])])])):V("",!0),e(t).showQueueItems?(c(),b("div",ri,[m(Ne,{modelValue:i.value,"onUpdate:modelValue":k[7]||(k[7]=S=>i.value=S),"hide-slider":"",density:"compact",onClick:O},{default:f(()=>[m(_e,{value:0},{default:f(()=>{var S,ie;return[E(P(w.$t("queue"))+" ",1),m(Ue,{color:"grey",content:(((S=e(t).activePlayerQueue)==null?void 0:S.items)||0)-(((ie=e(t).activePlayerQueue)==null?void 0:ie.current_index)||0),inline:""},null,8,["content"])]}),_:1}),m(_e,{value:1},{default:f(()=>{var S;return[E(P(w.$t("played"))+" ",1),m(Ue,{color:"grey",content:(S=e(t).activePlayerQueue)==null?void 0:S.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),I("div",ui,[u.value?V("",!0):(c(),C(Xa,{key:0,onLoad:K,"empty-text":"",height:"100%"},{default:f(()=>[m(cl,{"item-height":70,"max-height":"90%",items:i.value==0?d.value:y.value},{default:f(({item:S})=>[m(ul,{link:"","show-menu-btn":!0,onClick:G(ie=>_(ie,S),["stop"]),onMenu:G(ie=>_(ie,S),["stop"])},{prepend:f(()=>[I("div",di,[m(ye,{size:"50",item:S},null,8,["item"])])]),title:f(()=>[E(P(S.name),1)]),subtitle:f(()=>[E(P(e(Se)(S.duration))+" ",1),S.media_item&&"album"in S.media_item&&S.media_item.album?(c(),b("span",ci," | "+P(S.media_item.album.name),1)):V("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1}))])])):V("",!0),!e(t).showQueueItems&&w.$vuetify.display.height<=600?(c(),b("div",mi,[I("div",vi,[m(ye,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):V("",!0)]),I("div",pi,[I("div",yi,[m(ta,{"show-labels":!0})]),I("div",fi,[m(se,{disabled:!((ot=e(t).curQueueItem)!=null&&ot.media_item),icon:(nt=(st=e(t).curQueueItem)==null?void 0:st.media_item)!=null&&nt.favorite?"mdi-heart":"mdi-heart-outline",title:w.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:N},null,8,["disabled","icon","title"]),w.$vuetify.display.mdAndUp?(c(),C(la,{key:0,class:"media-controls-item","max-height":"30px"})):V("",!0),m(ia,{class:"media-controls-item","max-height":"45px"}),m(Je,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"100px"},null,8,["player","player-queue"]),m(oa,{class:"media-controls-item","max-height":"45px"}),w.$vuetify.display.mdAndUp?(c(),C(aa,{key:1,class:"media-controls-item","max-height":"35px"})):V("",!0),m(sa,{class:"media-controls-item","max-height":"30px"})]),I("div",hi,[m($e,{width:"100%","is-powered":(rt=e(t).activePlayer)==null?void 0:rt.powered,disabled:!e(t).activePlayer||!((ut=e(t).activePlayer)!=null&&ut.powered),"model-value":Math.round(((dt=e(t).activePlayer)==null?void 0:dt.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":k[8]||(k[8]=S=>e(t).activePlayer.group_childs.length>0?e(g).playerCommandGroupVolume(e(t).activePlayerId,S):e(g).playerCommandVolumeSet(e(t).activePlayerId,S)),"onClick:prepend":k[9]||(k[9]=S=>e(t).activePlayer.group_childs.length>0?e(g).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5):e(g).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level-5)),"onClick:append":k[10]||(k[10]=S=>e(t).activePlayer.group_childs.length>0?e(g).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5):e(g).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])]),w.$vuetify.display.height>800?(c(),b("div",_i,[m(Ve,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:k[11]||(k[11]=S=>e(t).showPlayersMenu=!0)},{default:f(()=>{var S;return[m(L,{icon:((S=e(t).activePlayer)==null?void 0:S.icon)||"mdi-speaker"},null,8,["icon"]),E(" "+P(e(t).activePlayer?e(qe)(e(t).activePlayer):""),1)]}),_:1})])):V("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),bi=j(gi,[["__scopeId","data-v-bcd0aa86"]]),wi={key:1},ki={key:2,class:"icon-thumb"},Pi={key:0},Ci={key:2},Vi={key:3},$i={key:5,class:"line-clamp-1"},Ii={class:"d-flex justify-center",style:{width:"100%"}},Si={key:0},Qi={key:1},Ti={key:2},Bi={key:3,class:"line-clamp-1"},zi={key:4,class:"line-clamp-1"},Mi={key:5},Ai={key:6,class:"line-clamp-1"},qi={key:7},Ei=A({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(l){const o=l,s=Q(()=>{var a,r;return(r=(a=t.activePlayerQueue)==null?void 0:a.current_item)==null?void 0:r.streamdetails});return(a,r)=>(c(),b(U,null,[m(oe,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:f(()=>{var i,u,d,y,n,h,p,v,_;return[I("div",{class:"media-thumb player-media-thumb",style:H(`cursor: pointer;height: ${e(W)({breakpoint:"phone"})?50:64}px; width: ${e(W)({breakpoint:"phone"})?50:64}px; `),onClick:r[0]||(r[0]=$=>e(t).showFullscreenPlayer=!0)},[(i=e(t).curQueueItem)!=null&&i.media_item||(u=e(t).curQueueItem)!=null&&u.image?(c(),C(ye,{key:0,item:((d=e(t).curQueueItem)==null?void 0:d.media_item)||e(t).curQueueItem,fallback:e(Ae)},null,8,["item","fallback"])):(y=e(t).activePlayer)!=null&&y.powered&&((h=(n=e(t).activePlayer)==null?void 0:n.current_media)!=null&&h.image_url)?(c(),b("div",wi,[m(je,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).activePlayer.current_media.image_url},null,8,["src"])])):(c(),b("div",ki,[m(L,{size:"35",icon:((p=e(t).activePlayer)==null?void 0:p.type)==e(me).PLAYER&&((v=e(t).activePlayer)!=null&&v.group_childs.length)?"mdi-speaker-multiple":((_=e(t).activePlayer)==null?void 0:_.icon)||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]}),title:f(()=>{var i,u,d,y,n;return[I("div",{style:H({cursor:"pointer",color:a.primaryColor})},[((i=e(t).activePlayer)==null?void 0:i.powered)==!1?(c(),b("div",{key:0,onClick:r[1]||(r[1]=h=>e(t).showPlayersMenu=!0)},P((u=e(t).activePlayer)==null?void 0:u.display_name),1)):(d=e(t).curQueueItem)!=null&&d.media_item?(c(),b("div",{key:1,onClick:r[2]||(r[2]=h=>e(t).showFullscreenPlayer=!0)},[E(P(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(c(),b("span",Pi,"("+P(e(t).curQueueItem.media_item.version)+")",1)):V("",!0)])):e(t).curQueueItem?(c(),b("div",Ci,P(e(t).curQueueItem.name),1)):(n=(y=e(t).activePlayer)==null?void 0:y.current_media)!=null&&n.title?(c(),b("div",Vi,P(e(t).activePlayer.current_media.title),1)):e(t).activePlayer?e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(c(),b("div",$i,P(a.$t("queue_empty")),1)):V("",!0):(c(),b("div",{key:4,onClick:r[3]||(r[3]=h=>e(t).showPlayersMenu=!0)},P(a.$t("no_player")),1))],4)]}),append:f(()=>{var i,u,d;return[(i=s.value)!=null&&i.audio_format.content_type&&!e(W)({breakpoint:"phone"})&&a.showQualityDetailsBtn?(c(),C(ol,R({key:0,disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((d=e(t).activePlayerQueue)==null?void 0:d.items)==0,class:"player-track-content-type",style:a.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},o),{default:f(()=>[I("div",Ii,P(s.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):V("",!0)]}),subtitle:f(()=>{var i,u,d,y,n,h,p,v,_,$,T,z,K;return[I("div",{style:H({cursor:"pointer",color:a.primaryColor}),class:"line-clamp-1",onClick:r[4]||(r[4]=N=>e(t).showFullscreenPlayer=!0)},[(i=e(t).activePlayer)!=null&&i.powered?e(t).curQueueItem&&((u=e(t).curQueueItem.media_item)==null?void 0:u.media_type)==e(ee).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!o.showOnlyArtist?(c(),b("div",Qi,P(e($t)(e(t).curQueueItem.media_item.artists))+"  "+P(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(c(),b("div",Ti,P(e(t).curQueueItem.media_item.artists[0].name),1)):(y=(d=e(t).curQueueItem)==null?void 0:d.streamdetails)!=null&&y.stream_title?(c(),b("div",Bi,P((h=(n=e(t).curQueueItem)==null?void 0:n.streamdetails)==null?void 0:h.stream_title),1)):e(t).curQueueItem&&((p=e(t).curQueueItem.media_item)!=null&&p.metadata.description)?(c(),b("div",zi,P(e(t).curQueueItem.media_item.metadata.description),1)):(_=(v=e(t).activePlayer)==null?void 0:v.current_media)!=null&&_.artist?(c(),b("div",Mi,P(e(t).activePlayer.current_media.artist),1)):(($=e(t).activePlayer)==null?void 0:$.active_source)!=((T=e(t).activePlayer)==null?void 0:T.player_id)?(c(),b("div",Ai,P(a.$t("external_source_active",[(z=e(t).activePlayer)==null?void 0:z.active_source])),1)):V("",!0):(c(),b("div",Si,P(a.$t("off")),1)),e(t).activePlayer&&((K=e(t).activePlayer)!=null&&K.powered)?(c(),b("div",qi,P(e(qe)(e(t).activePlayer)),1)):V("",!0)],4)]}),_:1}),m(bi,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":a.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),Li=A({__name:"SpeakerBtn",props:{color:{}},setup(l){return(o,s)=>(c(),C(Z,{variant:"icon",ripple:!1,icon:"",onClick:s[0]||(s[0]=a=>e(t).showPlayersMenu=!0)},{default:f(()=>{var a;return[m(L,{color:o.color?o.color:"",size:24,icon:(a=e(t).activePlayer)!=null&&a.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),Wi={key:1,class:"text-caption volumecaption"},Ri={class:"text-caption volumecaption"},Fi=A({__name:"VolumeControl",props:{player:{},showSyncControls:{type:Boolean},showSubPlayers:{type:Boolean},hideHeadingRow:{type:Boolean}},setup(l){const o=l,s=M([]),a=M([]),r=M(void 0),i=Q(()=>o.player.group_childs.length>0),u=function(n,h=!0){var v,_,$;const p=[];h&&n.type!=me.GROUP&&p.push(n);for(const T of n.group_childs){const z=(v=g)==null?void 0:v.players[T];z&&z.available&&!p.includes(z)&&p.push(z)}if(o.showSyncControls&&n.type==me.PLAYER)for(const T of Object.keys((_=g)==null?void 0:_.players)){const z=($=g)==null?void 0:$.players[T];z.provider===n.provider&&z.available&&(z.active_group&&z.active_group!=n.player_id||z.active_source&&z.state==ze.PLAYING&&![n.player_id,z.player_id].includes(z.active_source)||p.includes(z)||p.push(z))}return p.sort((T,z)=>T.display_name.toUpperCase()>z.display_name.toUpperCase()?1:-1),p},d=async function(n){for(const h of n)g.players[h].powered?await g.playerCommandPower(h,!1):await g.playerCommandUnSync(h)},y=async function(n,h){const p=o.player.player_id;console.log("syncCheckBoxChange",n,h),h?(a.value.includes(n)&&(a.value=a.value.filter(v=>v!=n)),s.value.includes(n)||s.value.push(n),g.players[p].group_childs.push(n)):(s.value.includes(n)&&(s.value=s.value.filter(v=>v!=n)),a.value.includes(n)||a.value.push(n),g.players[p].group_childs=g.players[p].group_childs.filter(v=>v!=n)),r.value!=null&&clearTimeout(r.value),r.value=setTimeout(async()=>{a.value.length>0&&d(a.value).catch(async()=>{g.players[p]=await g.getPlayer(p)}).finally(()=>{a.value=[]}),s.value.length>0&&g.playerCommandSyncMany(p,s.value).catch(async()=>{g.players[p]=await g.getPlayer(p)}).finally(()=>{s.value=[]})},2e3)};return(n,h)=>(c(),C(Ce,{style:{overflow:"hidden",padding:"0"},lines:"two"},{default:f(()=>[n.hideHeadingRow?V("",!0):(c(),C(oe,{key:0,class:"volumesliderrow heading",link:!1,style:H(n.player.powered?"opacity: 1":"opacity: 0.6")},{prepend:f(()=>[m(L,{size:25,icon:n.player.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:f(()=>[I("h5",null,P(e(qe)(n.player,27)),1)]),append:f(()=>[m(Z,{class:"powerbtn",variant:"icon",onClick:h[0]||(h[0]=G(p=>e(g).playerCommandPowerToggle(n.player.player_id),["stop"]))},{default:f(()=>[m(L,{size:25,icon:"mdi-power"})]),_:1})]),_:1},8,["style"])),m(oe,{class:"volumesliderrow",link:!1,style:H(n.player.powered?"opacity: 0.75":"opacity: 0.35")},{prepend:f(()=>[m(Z,{icon:"",style:{height:"25px"},disabled:n.player.type==e(me).GROUP||n.player.group_childs.length>0,onClick:h[1]||(h[1]=G(p=>e(g).playerCommandMuteToggle(n.player.player_id),["stop"]))},{default:f(()=>[m(L,{size:25,icon:n.player.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:1},8,["disabled"])]),default:f(()=>[m($e,{color:"secondary",width:"100%","is-powered":n.player.powered,disabled:!n.player.available||!n.player.powered||!n.player.supported_features.includes(e(he).VOLUME_SET)&&!n.player.group_childs.length,"model-value":Math.round(n.player.group_childs.length?n.player.group_volume:n.player.volume_level),onClick:h[2]||(h[2]=G(()=>{},["stop"])),"onUpdate:modelValue":h[3]||(h[3]=p=>n.player.group_childs.length>0?e(g).playerCommandGroupVolume(n.player.player_id,p):e(g).playerCommandVolumeSet(n.player.player_id,p))},null,8,["is-powered","disabled","model-value"])]),append:f(()=>[i.value&&!n.showSubPlayers?(c(),C(L,{key:0,class:"expandbtn"},{default:f(()=>h[7]||(h[7]=[E(" mdi-chevron-down ")])),_:1})):(c(),b("div",Wi,P(Math.round(n.player.group_childs.length?n.player.group_volume:n.player.volume_level)),1))]),_:1},8,["style"]),n.showSubPlayers&&n.player.powered&&(n.player.group_childs.length>0||n.showSyncControls)?(c(),b("div",{key:1,onClick:h[6]||(h[6]=G(()=>{},["stop"]))},[m(De,{style:{"margin-top":"10px","margin-bottom":"15px"}}),(c(!0),b(U,null,J(u(n.player,!n.showSyncControls),p=>(c(),b("div",{key:p.player_id},[m(oe,{class:"volumesliderrow",link:!1,style:H(p.powered||n.showSyncControls?"opacity: 0.75":"opacity: 0.4"),onClick:h[4]||(h[4]=G(()=>{},["stop"]))},{prepend:f(()=>[m(L,{size:30,icon:p.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:f(()=>[I("h6",null,P(e(fa)(p.display_name,27)),1)]),append:f(()=>[n.showSyncControls?(c(),C(ha,{key:0,ripple:!1,disabled:p.player_id==n.player.player_id,"model-value":n.player.group_childs.includes(p.player_id)||p.player_id==n.player.player_id,size:"22",class:"checkbox","onUpdate:modelValue":v=>y(p.player_id,v)},null,8,["disabled","model-value","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["style"]),m(oe,{class:"volumesliderrow",disabled:!p.supported_features.includes(e(he).VOLUME_SET),link:!1,style:H(p.powered?"opacity: 0.75":"opacity: 0.4"),onClick:h[5]||(h[5]=G(()=>{},["stop"]))},{prepend:f(()=>[m(Z,{icon:"",style:{height:"25px"},onClick:v=>e(g).playerCommandMuteToggle(p.player_id)},{default:f(()=>[m(L,{size:25,icon:p.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:2},1032,["onClick"])]),default:f(()=>[m($e,{color:"secondary",width:"100%","is-powered":p.powered,disabled:!p.available||!p.supported_features.includes(e(he).VOLUME_SET),"model-value":Math.round(p.volume_level),"onUpdate:modelValue":v=>e(g).playerCommandVolumeSet(p.player_id,v)},null,8,["is-powered","disabled","model-value","onUpdate:modelValue"])]),append:f(()=>[I("div",Ri,P(p.volume_level),1)]),_:2},1032,["disabled","style"]),h[8]||(h[8]=I("div",{style:{height:"14px"}},null,-1))]))),128))])):V("",!0)]),_:1}))}}),ra=j(Fi,[["__scopeId","data-v-c3bc0b85"]]),Hi={key:0},Ui={key:0},Di={class:"text-caption"},Ni={key:1},Yi=A({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(l){const o=l,s=M(!1);return(a,r)=>o.isVisible&&e(t).activePlayer?(c(),b("div",Hi,[m(xt,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=i=>s.value=i),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:a.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:f(({props:i})=>{var u,d;return[e(W)("bp6")||!a.responsiveVolumeSize?(c(),b("div",Ui,[m($e,{style:"margin-right: 0px; margin-left: 0px;",width:a.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((u=e(t).activePlayer)==null?void 0:u.group_volume)||0):Math.round(((d=e(t).activePlayer)==null?void 0:d.volume_level)||0),"onUpdate:modelValue":r[0]||(r[0]=y=>{var n,h;return e(t).activePlayer.group_childs.length>0?e(g).playerCommandGroupVolume(((n=e(t).activePlayer)==null?void 0:n.player_id)||"",y):e(g).playerCommandVolumeSet(((h=e(t).activePlayer)==null?void 0:h.player_id)||"",y)})},{prepend:f(()=>[m(Z,R({variant:"icon",size:"48",ripple:!1},{...i}),{default:f(()=>{var y,n;return[m(L,{color:o.color?a.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),I("div",Di,P(e(t).activePlayer.group_childs.length>0?Math.round(((y=e(t).activePlayer)==null?void 0:y.group_volume)||0):Math.round(((n=e(t).activePlayer)==null?void 0:n.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(c(),b("div",Ni,[m(Z,R({...i},{size:"48",variant:"icon"}),{default:f(()=>{var y,n;return[m(L,{color:o.color?a.color:"",icon:"mdi-volume-high"},null,8,["color"]),I("div",{class:"text-caption",style:H({color:o.color?a.color:""})},P(e(t).activePlayer.group_childs.length>0?Math.round(((y=e(t).activePlayer)==null?void 0:y.group_volume)||0):Math.round(((n=e(t).activePlayer)==null?void 0:n.volume_level)||0)),5)]}),_:2},1040)]))]}),default:f(()=>[m(We,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:f(()=>[e(t).activePlayer?(c(),C(ra,{key:0,player:e(t).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"hide-heading-row":!1,style:{"margin-left":"18px"}},null,8,["player"])):V("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):V("",!0)}}),Oi=j(Yi,[["__scopeId","data-v-7022cdda"]]),xi=A({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(l){return(o,s)=>(c(),b(U,null,[o.player&&o.player.isVisible?(c(),C(Li,{key:0,color:o.player.color},null,8,["color"])):V("",!0),o.queue&&o.queue.isVisible?(c(),C(sa,{key:1,color:o.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):V("",!0),o.volume&&o.volume.isVisible?(c(),C(Oi,{key:2,color:o.volume.color,"volume-size":o.volume.volumeSize,"responsive-volume-size":o.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):V("",!0)],64))}}),Xi=["data-floating"],Gi=["data-mobile"],ji={class:"mediacontrols-left"},Ki={class:"mediacontrols-bottom-center"},Ji={class:"mediacontrols-bottom-right"},Zi={key:0,class:"volume-slider"},eo=A({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(l){Ta(i=>({"4e17711c":r.value})),It();const{mobile:o}=At({mobileBreakpoint:576}),s=M({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),a=new Image;a.src=Me.theme.current.value.dark?Ae:Vt,a.crossOrigin="Anonymous",a.addEventListener("load",function(){s.value=_a(a)});const r=Q(()=>Me.theme.current.value.dark?s.value&&s.value.darkColor?s.value.darkColor+"26":"CCCCCC26":s.value&&s.value.lightColor?s.value.lightColor+"26":"CCCCCC26");return ne(()=>{var i;return(i=t.curQueueItem)==null?void 0:i.queue_item_id},()=>{var i;(i=t.curQueueItem)!=null&&i.media_item?a.src=ht(t.curQueueItem.media_item,gt.THUMB)||"":t.curQueueItem?a.src=ht(t.curQueueItem,gt.THUMB)||"":a.src=""}),(i,u)=>{var d,y,n,h,p,v,_;return c(),b(U,null,[I("div",{class:"mediacontrols-bg","data-floating":i.useFloatingPlayer},null,8,Xi),I("div",{class:"mediacontrols","data-mobile":e(o)},[I("div",ji,[m(Ei,{"show-quality-details-btn":!!e(W)("bp8"),"show-only-artist":!e(W)("bp7"),"color-palette":s.value,"primary-color":i.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),I("div",Ki,[m(Pt,{"visible-components":{repeat:{isVisible:e(W)("bp3")},shuffle:{isVisible:e(W)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:i.useFloatingPlayer},previous:{isVisible:e(W)("bp3")},next:{isVisible:e(W)("bp3")}}},null,8,["visible-components"]),e(W)("bp6")?(c(),C(ta,{key:0,color:i.$vuetify.theme.current.dark?s.value.lightColor||"#fff":s.value.darkColor||"#000","is-progress-bar":!1,disabled:!((d=e(t).activePlayerQueue)!=null&&d.active)||((h=(n=(y=e(t).activePlayerQueue)==null?void 0:y.current_item)==null?void 0:n.media_item)==null?void 0:h.media_type)!==e(ee).TRACK},null,8,["color","disabled"])):V("",!0)]),I("div",Ji,[I("div",null,[m(xi,{queue:{isVisible:e(W)("bp3"),color:i.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:i.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(o),color:i.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),m(Pt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(W)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:i.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Gi),e(o)?(c(),b("div",Zi,[m($e,{width:"100%",color:"secondary","is-powered":(p=e(t).activePlayer)==null?void 0:p.powered,disabled:!e(t).activePlayer||!((v=e(t).activePlayer)!=null&&v.powered),"model-value":Math.round(((_=e(t).activePlayer)==null?void 0:_.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":u[0]||(u[0]=$=>e(t).activePlayer.group_childs.length>0?e(g).playerCommandGroupVolume(e(t).activePlayerId,$):e(g).playerCommandVolumeSet(e(t).activePlayerId,$)),"onClick:prepend":u[1]||(u[1]=$=>e(t).activePlayer.group_childs.length>0?e(g).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5):e(g).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level-5)),"onClick:append":u[2]||(u[2]=$=>e(t).activePlayer.group_childs.length>0?e(g).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5):e(g).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])])):V("",!0)],64)}}}),to=j(eo,[["__scopeId","data-v-3edee708"]]),ao=te({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...qt(),...ge(),...Lt(),...Yt(),...Wt(),...Ie({tag:"footer"}),...Le()},"VFooter"),lo=ae()({name:"VFooter",props:ao(),setup(l,o){let{slots:s}=o;const a=M(),{themeClasses:r}=xe(l),{backgroundColorClasses:i,backgroundColorStyles:u}=Ge(Y(l,"color")),{borderClasses:d}=Rt(l),{elevationClasses:y}=Ht(l),{roundedClasses:n}=Ut(l),h=Qe(32),{resizeRef:p}=Ya(_=>{_.length&&(h.value=_[0].target.clientHeight)}),v=Q(()=>l.height==="auto"?h.value:parseInt(l.height,10));return Ba(()=>l.app,()=>{const _=Ot({id:l.name,order:Q(()=>parseInt(l.order,10)),position:Q(()=>"bottom"),layoutSize:v,elementSize:Q(()=>l.height==="auto"?void 0:v.value),active:Q(()=>l.app),absolute:Y(l,"absolute")});za(()=>{a.value=_.layoutItemStyles.value})}),le(()=>m(l.tag,{ref:p,class:["v-footer",r.value,i.value,d.value,y.value,n.value,l.class],style:[u.value,l.app?a.value:{height:Pe(l.height)},l.style]},s)),{}}}),io=A({__name:"Footer",setup(l){const o=Q(()=>t.navigationMenuStyle=="horizontal"),s=Q(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),a=Q(()=>o.value?s.value+5:0);return(r,i)=>(c(),b(U,null,[o.value?(c(),b("div",{key:0,class:Be(r.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:H(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(W)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):V("",!0),e(t).navigationMenuStyle=="horizontal"?(c(),C(Fl,{key:1,height:s.value},null,8,["height"])):V("",!0),m(lo,{bottom:"",fixed:"",class:Be(`d-flex flex-column ${o.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:H(`bottom: ${a.value}px;`),elevation:"10",app:""},{default:f(()=>[m(to,{"use-floating-player":o.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),oo={key:0,class:"player-media-thumb"},so={key:1},no={key:2,class:"icon-thumb"},ro={style:{"margin-bottom":"3px"}},uo={key:0,style:{"font-size":"0.85rem","font-weight":"500","white-space":"nowrap"}},co={key:0},mo={key:0},vo={key:1},po={key:2},yo={class:"v-list-item-subtitle",style:{"white-space":"nowrap"}},fo={key:0},ho={key:1},_o={key:2},go={key:3},bo={key:4},wo={key:5},ko={key:6},Po=A({__name:"PlayerCard",props:{player:{},showVolumeControl:{type:Boolean},showMenuButton:{type:Boolean},showSubPlayers:{type:Boolean},showSyncControls:{type:Boolean}},setup(l){const o=l,s=Q(()=>{if(o.player&&o.player.active_source in g.queues)return g.queues[o.player.active_source];if(o.player&&!o.player.active_source&&o.player.player_id in g.queues)return g.queues[o.player.player_id]}),a=Q(()=>{if(s.value&&s.value.active)return s.value.current_item}),r=function(i){ce.emit("contextmenu",{items:na(o.player,s.value),posX:i.clientX,posY:i.clientY})};return(i,u)=>(c(),C(We,{flat:"",class:Be(["panel-item",{"panel-item-selected":i.player.player_id==e(t).activePlayerId,"panel-item-idle":i.player.state==e(ze).IDLE,"panel-item-off":!i.player.powered}]),ripple:!1},{default:f(()=>[m(oe,{class:"panel-item-details",flat:"",ripple:!1},{prepend:f(()=>{var d,y,n,h;return[i.player.powered?(c(),b("div",oo,[(d=a.value)!=null&&d.media_item||(y=a.value)!=null&&y.image?(c(),C(ye,{key:0,class:"media-thumb",size:"55",item:((n=a.value)==null?void 0:n.media_item)||a.value,fallback:e(Ae)},null,8,["item","fallback"])):(h=i.player.current_media)!=null&&h.image_url?(c(),b("div",so,[m(je,{class:"media-thumb",size:"55",src:i.player.current_media.image_url},null,8,["src"])])):(c(),b("div",no,[m(L,{size:"35",icon:i.player.type==e(me).PLAYER&&i.player.group_childs.length?"mdi-speaker-multiple":i.player.icon,style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))])):V("",!0)]}),title:f(()=>[I("div",ro,P(e(qe)(i.player,27)),1)]),subtitle:f(()=>{var d,y,n,h,p,v,_;return[i.player.powered?(c(),b("div",uo,[(d=a.value)!=null&&d.media_item?(c(),b("div",co,[E(P((y=a.value)==null?void 0:y.media_item.name)+" ",1),"version"in((n=a.value)==null?void 0:n.media_item)&&((h=a.value)!=null&&h.media_item.version)?(c(),b("span",mo,"("+P((p=a.value)==null?void 0:p.media_item.version)+")",1)):V("",!0)])):a.value?(c(),b("div",vo,P((v=a.value)==null?void 0:v.name),1)):(_=i.player.current_media)!=null&&_.title?(c(),b("div",po,P(i.player.current_media.title),1)):V("",!0)])):V("",!0)]}),default:f(()=>{var d,y,n,h,p,v,_,$,T,z,K,N,O,w,k,B,q,x,X;return[I("div",yo,[i.player.powered?(d=a.value)!=null&&d.media_item&&((n=(y=a.value)==null?void 0:y.media_item)==null?void 0:n.media_type)==e(ee).TRACK&&"album"in((h=a.value)==null?void 0:h.media_item)&&((p=a.value)!=null&&p.media_item.album)?(c(),b("div",ho,P(e($t)((v=a.value)==null?void 0:v.media_item.artists))+"  "+P((_=a.value)==null?void 0:_.media_item.album.name),1)):($=a.value)!=null&&$.media_item&&"artists"in((T=a.value)==null?void 0:T.media_item)&&((z=a.value)==null?void 0:z.media_item.artists.length)>0?(c(),b("div",_o,P((K=a.value)==null?void 0:K.media_item.artists[0].name),1)):(O=(N=a.value)==null?void 0:N.streamdetails)!=null&&O.stream_title?(c(),b("div",go,P((k=(w=a.value)==null?void 0:w.streamdetails)==null?void 0:k.stream_title),1)):(q=(B=a.value)==null?void 0:B.media_item)!=null&&q.metadata.description?(c(),b("div",bo,P((x=a.value)==null?void 0:x.media_item.metadata.description),1)):i.player.active_source!=i.player.player_id?(c(),b("div",wo,P(i.$t("external_source_active",[i.player.active_source])),1)):((X=s.value)==null?void 0:X.items)==0?(c(),b("div",ko,P(i.$t("queue_empty")),1)):V("",!0):(c(),b("div",fo,P(i.$t("off")),1))])]}),append:f(()=>[i.player.powered?V("",!0):(c(),C(Z,{key:0,variant:"icon",class:"player-command-btn",onClick:u[0]||(u[0]=G(d=>e(g).playerCommandPowerToggle(i.player.player_id),["stop"]))},{default:f(()=>[m(L,{size:e(W)({breakpoint:"phone"})?"30":"32"},{default:f(()=>u[1]||(u[1]=[E("mdi-power")])),_:1},8,["size"])]),_:1})),i.player.powered?(c(),C(Je,{key:1,player:i.player,"player-queue":s.value,class:"player-command-btn",style:{height:"50px"},"icon-style":"circle-outline"},null,8,["player","player-queue"])):V("",!0),i.showMenuButton?(c(),C(Z,{key:2,variant:"icon",class:"player-command-btn",style:{"margin-right":"-5px"},onClick:G(r,["stop"])},{default:f(()=>[m(L,{size:e(W)({breakpoint:"phone"})?"30":"32"},{default:f(()=>u[2]||(u[2]=[E("mdi-dots-vertical")])),_:1},8,["size"])]),_:1})):V("",!0)]),_:1}),i.showVolumeControl&&i.player.powered?(c(),C(ra,{key:0,player:i.player,"show-sync-controls":i.showSyncControls,"hide-heading-row":!0,"show-sub-players":i.showSubPlayers},null,8,["player","show-sync-controls","show-sub-players"])):V("",!0)]),_:1},8,["class"]))}}),Ct=j(Po,[["__scopeId","data-v-0939a24c"]]),Co=A({__name:"PlayerSelect",setup(l){const o=M(!1),s=Q(()=>Object.values(g.players).filter(d=>r(d,!1,!1,!1)).sort((d,y)=>{var n;return d.display_name.toUpperCase()>((n=y.display_name)==null?void 0:n.toUpperCase())?1:-1}).sort((d,y)=>Number(y.powered)-Number(d.powered)));ne(()=>t.activePlayerId,d=>{d&&localStorage.setItem("mass.LastPlayerId",d)}),ne(()=>g.players,d=>{d&&!t.activePlayer&&i()},{deep:!0}),ne(()=>g.state,d=>{d.value!=Ma.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});function a(d,y=!1){t.activePlayerId==d.player_id?o.value=!o.value:(o.value=!1,t.activePlayerId=d.player_id),y&&(t.showPlayersMenu=!1)}Ee(()=>{i()});const r=function(d,y=!0,n=!1,h=!1){return!(!d.enabled||!h&&d.hidden||!y&&!d.available||d.synced_to&&!n||!n&&d.type==me.PLAYER&&d.active_group)},i=function(){if(t.activePlayer&&r(t.activePlayer,!1,!1,!1))return;const d=u();d&&(t.activePlayerId=d.player_id)},u=function(){const d=localStorage.getItem("mass.LastPlayerId");if(d&&d in g.players&&r(g.players[d],!1,!1,!1))return g.players[d]};return(d,y)=>(c(),b(U,null,[m(Xt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":y[0]||(y[0]=n=>e(t).showPlayersMenu=n)},null,8,["modelValue"]),m(ca,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":y[2]||(y[2]=n=>e(t).showPlayersMenu=n),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:500,style:{"z-index":"99999"},"z-index":"99999"},{default:f(()=>[I("div",null,[m(ke,{class:"title"},{default:f(()=>[I("b",null,P(d.$t("players")),1)]),_:1}),m(Z,{variant:"icon",style:{float:"right",top:"-40px",height:"0"},onClick:y[1]||(y[1]=n=>e(t).showPlayersMenu=!1)},{default:f(()=>[m(L,{size:"30"},{default:f(()=>y[3]||(y[3]=[E("mdi-window-close")])),_:1})]),_:1}),m(Ce,{flat:"",style:{margin:"5px 5px"}},{default:f(()=>[(c(!0),b(U,null,J(s.value.filter(n=>n.powered),n=>(c(),C(Ct,{id:n.player_id,key:n.player_id,player:n,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":o.value&&n.player_id==e(t).activePlayerId,"show-sync-controls":n.supported_features.includes(e(he).SYNC),onClick:h=>a(n)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),m(sl,{variant:"accordion",flat:"",class:"expansion"},{default:f(()=>[m(nl,{title:d.$t("powered_off_players"),style:{padding:"0"}},{default:f(()=>[m(rl,{style:{padding:"0"}},{default:f(()=>[m(Ce,{flat:""},{default:f(()=>[(c(!0),b(U,null,J(s.value.filter(n=>!n.powered),n=>(c(),C(Ct,{id:n.player_id,key:n.player_id,player:n,"show-volume-control":!1,"show-menu-button":!0,"show-sub-players":!1,"show-sync-controls":!1,onClick:h=>a(n)},null,8,["id","player","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})])]),_:1},8,["modelValue"])],64))}}),Vo=j(Co,[["__scopeId","data-v-600cdf59"]]);function $o(l={}){const{immediate:o=!1,onNeedRefresh:s,onOfflineReady:a,onRegistered:r,onRegisteredSW:i,onRegisterError:u}=l;let d,y,n;const h=async(v=!0)=>{await y,await(n==null?void 0:n())};async function p(){if("serviceWorker"in navigator){if(d=await Aa(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-D5gOYdM7.js");return{Workbox:v}},[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{u==null||u(v)}),!d)return;n=async()=>{await(d==null?void 0:d.messageSkipWaiting())};{let v=!1;const _=()=>{v=!0,d==null||d.addEventListener("controlling",$=>{$.isUpdate&&window.location.reload()}),s==null||s()};d.addEventListener("installed",$=>{typeof $.isUpdate>"u"?typeof $.isExternal<"u"?$.isExternal?_():!v&&(a==null||a()):$.isExternal?window.location.reload():!v&&(a==null||a()):$.isUpdate||a==null||a()}),d.addEventListener("waiting",_),d.addEventListener("externalwaiting",_)}d.register({immediate:o}).then(v=>{i?i("./sw.js",v):r==null||r(v)}).catch(v=>{u==null||u(v)})}}return y=p(),h}function Io(l={}){const{immediate:o=!0,onNeedRefresh:s,onOfflineReady:a,onRegistered:r,onRegisteredSW:i,onRegisterError:u}=l,d=M(!1),y=M(!1);return{updateServiceWorker:$o({immediate:o,onNeedRefresh(){d.value=!0,s==null||s()},onOfflineReady(){y.value=!0,a==null||a()},onRegistered:r,onRegisteredSW:i,onRegisterError:u}),offlineReady:y,needRefresh:d}}const So={key:0,class:"pwa-toast",role:"alert"},Qo={class:"message"},To={key:0},Bo={key:1},zo=A({__name:"ReloadPrompt",setup(l){const{offlineReady:o,needRefresh:s,updateServiceWorker:a}=Io(),r=async()=>{o.value=!1,s.value=!1};return(i,u)=>e(o)||e(s)?(c(),b("div",So,[I("div",Qo,[e(o)?(c(),b("span",To," App ready to work offline ")):(c(),b("span",Bo," New content available, click on reload button to update. "))]),e(s)?(c(),b("button",{key:0,onClick:u[0]||(u[0]=d=>e(a)())},"Reload")):V("",!0),I("button",{onClick:r},"Close")])):V("",!0)}}),Mo=te({...ge(),...ja({fullHeight:!0}),...Le()},"VApp"),Ao=ae()({name:"VApp",props:Mo(),setup(l,o){let{slots:s}=o;const a=xe(l),{layoutClasses:r,getLayoutItem:i,items:u,layoutRef:d}=Ka(l),{rtlClasses:y}=Bt();return le(()=>{var n;return m("div",{ref:d,class:["v-application",a.themeClasses.value,r.value,y.value,l.class],style:[l.style]},[m("div",{class:"v-application__wrap"},[(n=s.default)==null?void 0:n.call(s)])])}),{getLayoutItem:i,items:u,theme:a}}}),qo=A({__name:"Default",setup(l){return(o,s)=>(c(),b(U,null,[e(t).connected?(c(),C(Ao,{key:0},{default:f(()=>[m(Vo),m(bl),m(io)]),_:1})):(c(),C(Xt,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:f(()=>[I("div",null,[m(Oa,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(c(),C(zo,{key:2})):V("",!0)],64))}}),as=j(qo,[["__scopeId","data-v-b295b190"]]);export{as as default};
