Metadata-Version: 2.1
Name: django-typescript-routes
Version: 0.2.0
Summary: Generate typescript routes from a Django URLconf
Home-page: https://github.com/buttondown-email/django-typescript-routes
License: MIT
Author: Justin Duke
Author-email: justin@buttondown.email
Requires-Python: >=3.11,<4.0
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Requires-Dist: Django (>=5,<6)
Project-URL: Repository, https://github.com/buttondown-email/django-typescript-routes
Description-Content-Type: text/markdown

# django-typescript-routes

Meant as a spiritual successor to [django-js-reverse](https://pypi.org/project/django-js-reverse/), `django-typescript-routes` is meant to answer to the following question:

> I've got a Typescript-based SPA that is powered by a Django-based API. How do I safely make requests to Django without messing up the routes or parameters?

`django-typescript-routes` is how! At a high level, it turns:

```python
urls = [
    path(
        r"about",
        about,
        name="about",
    ),
    path(
        r"/<str:username>",
        subscribe,
        name="subscribe",
    ),
    path(
        r"/<str:username>/subscribers/<pk:uuid>/success",
        subscription_success,
        name="subscription-success",
    ),
]
```

into:

```typescript
const URLS = {
  about: () => `/`,
  subscribe: (username: string) => `/${username}`,
  "subscription-success": (username: string, pk: string) =>
    `/${username}/subscribers/${pk}/success`,
};
```

## Quick start

1. Install:

```bash
poetry add --dev django-typescript-routes
```

1. Add `django-typescript-routes` to your `INSTALLED_APPS` setting:

```python
INSTALLED_APPS = [
    ...,
    "typescript_routes",
    ...
]
```

2. Run the management command to print out the typescript file:

```bash
python manage.py generate_typescript_routes --urlconf projectname.urls > assets/urls.ts
```

## Contributing

### Running the test suite

Simply:

```
./scripts/test
```

