import{s as kt,e as w,a as j,t as Qe,c as C,b as U,g as z,d as We,f as b,o as y,i as S,h as k,A as lt,j as yt,n as Me,C as Ht,H as It,G as Vt,r as Q,m as de,v as Be,w as W,B as Tt,F as et,x as nt}from"../chunks/scheduler.Bjr9RZaN.js";import{S as wt,i as Ct,b as X,c as we,d as Ce,m as Ee,t as v,a as D,e as ke,f as De,g as ye}from"../chunks/index.NoFf4Nre.js";import{e as st}from"../chunks/each.D6YF6ztN.js";import{S as St,f as Ne,B as Lt,g as Pe,r as ze}from"../chunks/utils.Izz5XfnR.js";import{R as Mt,A as Oe}from"../chunks/Radio.D-A72FRT.js";function Ot(e){let t,l,a,s,f,c=(e[0]?e[1][0]:e[1][1])+"",r,o,i,p;return{c(){t=w("div"),l=w("input"),s=j(),f=w("label"),r=Qe(c),this.h()},l(n){t=C(n,"DIV",{class:!0});var _=U(t);l=C(_,"INPUT",{type:!0,class:!0,id:!0}),s=z(_),f=C(_,"LABEL",{class:!0,for:!0});var u=U(f);r=We(u,c),u.forEach(b),_.forEach(b),this.h()},h(){y(l,"type","checkbox"),y(l,"class","btn-check"),y(l,"id",a="btn-check-outlined"+e[2]),y(f,"class","btn btn-outline-primary btn-sm"),y(f,"for",o="btn-check-outlined"+e[2]),y(t,"class","toggle")},m(n,_){S(n,t,_),k(t,l),l.checked=e[0],k(t,s),k(t,f),k(f,r),i||(p=[lt(l,"change",e[4]),lt(l,"change",e[5])],i=!0)},p(n,[_]){_&4&&a!==(a="btn-check-outlined"+n[2])&&y(l,"id",a),_&1&&(l.checked=n[0]),_&3&&c!==(c=(n[0]?n[1][0]:n[1][1])+"")&&yt(r,c),_&4&&o!==(o="btn-check-outlined"+n[2])&&y(f,"for",o)},i:Me,o:Me,d(n){n&&b(t),i=!1,Ht(p)}}}function $t(e,t,l){let{value:a}=t,{texts:s=["on","off"]}=t,f="";It(()=>{l(2,f=Math.random().toString(16).slice(2))});const c=Vt();function r(){a=this.checked,l(0,a)}const o=()=>{c("change")};return e.$$set=i=>{"value"in i&&l(0,a=i.value),"texts"in i&&l(1,s=i.texts)},[a,s,f,c,r,o]}class Et extends wt{constructor(t){super(),Ct(this,t,$t,Ot,kt,{value:0,texts:1})}}const tt={"1.9.0":{capex_yearly:"cost_capex_yearly",opex_yearly:"cost_opex_yearly",cost_opex_total:"cost_opex_yearly_total",cost_opex:"cost_opex_variable",cost_capex_total:"cost_capex_yearly_total",cost_capex:"cost_capex_overnight"}};function jt(e,t){let l=e.split("."),a=t.split(".");for(let s=0;s<3;s++)if(Number(l[s])>Number(a[s]))return!1;return!0}function Fe(e,t="0.0.0"){let l=null;console.log("Looking for",e,"at version",t);for(let s of Object.keys(tt))jt(s,t)&&(l=s);console.log("taking",l);let a;return l===null||!(e in tt[l])?a=e:a=tt[l][e],console.log("real name",a),a}function ot(e,t,l){const a=e.slice();return a[65]=t[l],a[66]=t,a[67]=l,a}function at(e){let t,l,a='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCost" aria-expanded="false" aria-controls="collapseCost">Cost selection</button>',s,f,c,r,o,i,p='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Technology and Carrier Selection</button>',n,_,u,g,A="Technologies (for Capex/Opex)",M,te,ue,he,L,be,J,T,O='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',B,oe,pe,ne,ge,I,ce,He="Aggregation",N,ae,K,Te,m,q,ie,fe=st(Object.keys(e[22])),V=[];for(let h=0;h<fe.length;h+=1)V[h]=rt(ot(e,fe,h));const Se=h=>D(V[h],1,1,()=>{V[h]=null});let P=e[11].length>0&&ct(e),F=e[13].length>0&&ft(e),R=e[15].length>0&&dt(e),Y=e[18].length>0&&_t(e),Z=e[19].length>0&&ut(e);function Xe(h){e[48](h)}function Ze(h){e[49](h)}let qe={};e[20]!==void 0&&(qe.options=e[20]),e[21]!==void 0&&(qe.selected_option=e[21]),ae=new Mt({props:qe}),Q.push(()=>X(ae,"options",Xe)),Q.push(()=>X(ae,"selected_option",Ze)),ae.$on("selection-changed",e[50]);let x=e[21]==e[20][1]&&ht(e),ee=e[6]&&pt(e);return{c(){t=w("div"),l=w("h2"),l.innerHTML=a,s=j(),f=w("div"),c=w("div");for(let h=0;h<V.length;h+=1)V[h].c();r=j(),o=w("div"),i=w("h2"),i.innerHTML=p,n=j(),_=w("div"),u=w("div"),g=w("h3"),g.textContent=A,M=j(),P&&P.c(),te=j(),F&&F.c(),ue=j(),R&&R.c(),he=j(),Y&&Y.c(),L=j(),Z&&Z.c(),be=j(),J=w("div"),T=w("h2"),T.innerHTML=O,B=j(),oe=w("div"),pe=w("div"),ne=w("div"),ge=w("div"),I=w("div"),ce=w("h3"),ce.textContent=He,N=j(),we(ae.$$.fragment),m=j(),x&&x.c(),q=j(),ee&&ee.c(),this.h()},l(h){t=C(h,"DIV",{class:!0});var E=U(t);l=C(E,"H2",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-1y9fyqz"&&(l.innerHTML=a),s=z(E),f=C(E,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ve=U(f);c=C(ve,"DIV",{class:!0});var se=U(c);for(let Ae=0;Ae<V.length;Ae+=1)V[Ae].l(se);se.forEach(b),ve.forEach(b),E.forEach(b),r=z(h),o=C(h,"DIV",{class:!0});var Ve=U(o);i=C(Ve,"H2",{class:!0,"data-svelte-h":!0}),de(i)!=="svelte-c8inc9"&&(i.innerHTML=p),n=z(Ve),_=C(Ve,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ge=U(_);u=C(Ge,"DIV",{class:!0});var me=U(u);g=C(me,"H3",{"data-svelte-h":!0}),de(g)!=="svelte-17gugf8"&&(g.textContent=A),M=z(me),P&&P.l(me),te=z(me),F&&F.l(me),ue=z(me),R&&R.l(me),he=z(me),Y&&Y.l(me),L=z(me),Z&&Z.l(me),me.forEach(b),Ge.forEach(b),Ve.forEach(b),be=z(h),J=C(h,"DIV",{class:!0});var $e=U(J);T=C($e,"H2",{class:!0,"data-svelte-h":!0}),de(T)!=="svelte-hz94lo"&&(T.innerHTML=O),B=z($e),oe=C($e,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ue=U(oe);pe=C(Ue,"DIV",{class:!0});var Je=U(pe);ne=C(Je,"DIV",{class:!0});var Le=U(ne);ge=C(Le,"DIV",{class:!0});var Ke=U(ge);I=C(Ke,"DIV",{class:!0});var je=U(I);ce=C(je,"H3",{"data-svelte-h":!0}),de(ce)!=="svelte-126hufg"&&(ce.textContent=He),N=z(je),Ce(ae.$$.fragment,je),je.forEach(b),Ke.forEach(b),m=z(Le),x&&x.l(Le),q=z(Le),ee&&ee.l(Le),Le.forEach(b),Je.forEach(b),Ue.forEach(b),$e.forEach(b),this.h()},h(){y(l,"class","accordion-header"),y(c,"class","accordion-body"),y(f,"id","collapseCost"),y(f,"class","accordion-collapse collapse"),y(f,"data-bs-parent","#accordionExample"),y(t,"class","accordion-item"),y(i,"class","accordion-header"),y(u,"class","accordion-body"),y(_,"id","collapseTwo"),y(_,"class","accordion-collapse collapse"),y(_,"data-bs-parent","#accordionExample"),y(o,"class","accordion-item"),y(T,"class","accordion-header"),y(I,"class","col-6"),y(ge,"class","row"),y(ne,"class","accordion-body"),y(pe,"class","accordion-body"),y(oe,"id","collapseThree"),y(oe,"class","accordion-collapse collapse"),y(oe,"data-bs-parent","#accordionExample"),y(J,"class","accordion-item")},m(h,E){S(h,t,E),k(t,l),k(t,s),k(t,f),k(f,c);for(let ve=0;ve<V.length;ve+=1)V[ve]&&V[ve].m(c,null);S(h,r,E),S(h,o,E),k(o,i),k(o,n),k(o,_),k(_,u),k(u,g),k(u,M),P&&P.m(u,null),k(u,te),F&&F.m(u,null),k(u,ue),R&&R.m(u,null),k(u,he),Y&&Y.m(u,null),k(u,L),Z&&Z.m(u,null),S(h,be,E),S(h,J,E),k(J,T),k(J,B),k(J,oe),k(oe,pe),k(pe,ne),k(ne,ge),k(ge,I),k(I,ce),k(I,N),Ee(ae,I,null),k(ne,m),x&&x.m(ne,null),k(ne,q),ee&&ee.m(ne,null),ie=!0},p(h,E){if(E[0]&20971520){fe=st(Object.keys(h[22]));let se;for(se=0;se<fe.length;se+=1){const Ve=ot(h,fe,se);V[se]?(V[se].p(Ve,E),v(V[se],1)):(V[se]=rt(Ve),V[se].c(),v(V[se],1),V[se].m(c,null))}for(ye(),se=fe.length;se<V.length;se+=1)Se(se);ke()}h[11].length>0?P?(P.p(h,E),E[0]&2048&&v(P,1)):(P=ct(h),P.c(),v(P,1),P.m(u,te)):P&&(ye(),D(P,1,1,()=>{P=null}),ke()),h[13].length>0?F?(F.p(h,E),E[0]&8192&&v(F,1)):(F=ft(h),F.c(),v(F,1),F.m(u,ue)):F&&(ye(),D(F,1,1,()=>{F=null}),ke()),h[15].length>0?R?(R.p(h,E),E[0]&32768&&v(R,1)):(R=dt(h),R.c(),v(R,1),R.m(u,he)):R&&(ye(),D(R,1,1,()=>{R=null}),ke()),h[18].length>0?Y?(Y.p(h,E),E[0]&262144&&v(Y,1)):(Y=_t(h),Y.c(),v(Y,1),Y.m(u,L)):Y&&(ye(),D(Y,1,1,()=>{Y=null}),ke()),h[19].length>0?Z?(Z.p(h,E),E[0]&524288&&v(Z,1)):(Z=ut(h),Z.c(),v(Z,1),Z.m(u,null)):Z&&(ye(),D(Z,1,1,()=>{Z=null}),ke());const ve={};!K&&E[0]&1048576&&(K=!0,ve.options=h[20],W(()=>K=!1)),!Te&&E[0]&2097152&&(Te=!0,ve.selected_option=h[21],W(()=>Te=!1)),ae.$set(ve),h[21]==h[20][1]?x?(x.p(h,E),E[0]&3145728&&v(x,1)):(x=ht(h),x.c(),v(x,1),x.m(ne,q)):x&&(ye(),D(x,1,1,()=>{x=null}),ke()),h[6]?ee?(ee.p(h,E),E[0]&64&&v(ee,1)):(ee=pt(h),ee.c(),v(ee,1),ee.m(ne,null)):ee&&(ye(),D(ee,1,1,()=>{ee=null}),ke())},i(h){if(!ie){for(let E=0;E<fe.length;E+=1)v(V[E]);v(P),v(F),v(R),v(Y),v(Z),v(ae.$$.fragment,h),v(x),v(ee),ie=!0}},o(h){V=V.filter(Boolean);for(let E=0;E<V.length;E+=1)D(V[E]);D(P),D(F),D(R),D(Y),D(Z),D(ae.$$.fragment,h),D(x),D(ee),ie=!1},d(h){h&&(b(t),b(r),b(o),b(be),b(J)),Tt(V,h),P&&P.d(),F&&F.d(),R&&R.d(),Y&&Y.d(),Z&&Z.d(),De(ae),x&&x.d(),ee&&ee.d()}}}function it(e){let t,l,a,s;function f(r){e[32](r,e[65])}let c={};return e[22][e[65]].subdivision!==void 0&&(c.value=e[22][e[65]].subdivision),l=new Et({props:c}),Q.push(()=>X(l,"value",f)),l.$on("change",e[24]),{c(){t=Qe(`Subdivision
											`),we(l.$$.fragment)},l(r){t=We(r,`Subdivision
											`),Ce(l.$$.fragment,r)},m(r,o){S(r,t,o),Ee(l,r,o),s=!0},p(r,o){e=r;const i={};!a&&o[0]&4194304&&(a=!0,i.value=e[22][e[65]].subdivision,W(()=>a=!1)),l.$set(i)},i(r){s||(v(l.$$.fragment,r),s=!0)},o(r){D(l.$$.fragment,r),s=!1},d(r){r&&b(t),De(l,r)}}}function rt(e){let t,l,a=e[22][e[65]].title+"",s,f,c,r,o,i,p,n;function _(A){e[31](A,e[65])}let u={};e[22][e[65]].show!==void 0&&(u.value=e[22][e[65]].show),r=new Et({props:u}),Q.push(()=>X(r,"value",_)),r.$on("change",e[24]);let g=e[22][e[65]].show&&e[65]!="carbon_emission"&&it(e);return{c(){t=w("div"),l=w("h4"),s=Qe(a),f=Qe(" :"),c=j(),we(r.$$.fragment),i=j(),g&&g.c(),p=j(),this.h()},l(A){t=C(A,"DIV",{class:!0});var M=U(t);l=C(M,"H4",{});var te=U(l);s=We(te,a),f=We(te," :"),te.forEach(b),c=z(M),Ce(r.$$.fragment,M),i=z(M),g&&g.l(M),p=z(M),M.forEach(b),this.h()},h(){y(t,"class","d-flex")},m(A,M){S(A,t,M),k(t,l),k(l,s),k(l,f),k(t,c),Ee(r,t,null),k(t,i),g&&g.m(t,null),k(t,p),n=!0},p(A,M){e=A,(!n||M[0]&4194304)&&a!==(a=e[22][e[65]].title+"")&&yt(s,a);const te={};!o&&M[0]&4194304&&(o=!0,te.value=e[22][e[65]].show,W(()=>o=!1)),r.$set(te),e[22][e[65]].show&&e[65]!="carbon_emission"?g?(g.p(e,M),M[0]&4194304&&v(g,1)):(g=it(e),g.c(),v(g,1),g.m(t,p)):g&&(ye(),D(g,1,1,()=>{g=null}),ke())},i(A){n||(v(r.$$.fragment,A),v(g),n=!0)},o(A){D(r.$$.fragment,A),D(g),n=!1},d(A){A&&b(t),De(r),g&&g.d()}}}function ct(e){let t,l="Transport",a,s,f,c,r;function o(n){e[33](n)}function i(n){e[34](n)}let p={};return e[12]!==void 0&&(p.selected_elements=e[12]),e[11]!==void 0&&(p.elements=e[11]),s=new Oe({props:p}),Q.push(()=>X(s,"selected_elements",o)),Q.push(()=>X(s,"elements",i)),s.$on("selection-changed",e[35]),{c(){t=w("h4"),t.textContent=l,a=j(),we(s.$$.fragment)},l(n){t=C(n,"H4",{"data-svelte-h":!0}),de(t)!=="svelte-1tmas69"&&(t.textContent=l),a=z(n),Ce(s.$$.fragment,n)},m(n,_){S(n,t,_),S(n,a,_),Ee(s,n,_),r=!0},p(n,_){const u={};!f&&_[0]&4096&&(f=!0,u.selected_elements=n[12],W(()=>f=!1)),!c&&_[0]&2048&&(c=!0,u.elements=n[11],W(()=>c=!1)),s.$set(u)},i(n){r||(v(s.$$.fragment,n),r=!0)},o(n){D(s.$$.fragment,n),r=!1},d(n){n&&(b(t),b(a)),De(s,n)}}}function ft(e){let t,l="Storage",a,s,f,c,r;function o(n){e[36](n)}function i(n){e[37](n)}let p={};return e[14]!==void 0&&(p.selected_elements=e[14]),e[13]!==void 0&&(p.elements=e[13]),s=new Oe({props:p}),Q.push(()=>X(s,"selected_elements",o)),Q.push(()=>X(s,"elements",i)),s.$on("selection-changed",e[38]),{c(){t=w("h4"),t.textContent=l,a=j(),we(s.$$.fragment)},l(n){t=C(n,"H4",{"data-svelte-h":!0}),de(t)!=="svelte-hjv5od"&&(t.textContent=l),a=z(n),Ce(s.$$.fragment,n)},m(n,_){S(n,t,_),S(n,a,_),Ee(s,n,_),r=!0},p(n,_){const u={};!f&&_[0]&16384&&(f=!0,u.selected_elements=n[14],W(()=>f=!1)),!c&&_[0]&8192&&(c=!0,u.elements=n[13],W(()=>c=!1)),s.$set(u)},i(n){r||(v(s.$$.fragment,n),r=!0)},o(n){D(s.$$.fragment,n),r=!1},d(n){n&&(b(t),b(a)),De(s,n)}}}function dt(e){let t,l="Conversion",a,s,f,c,r;function o(n){e[39](n)}function i(n){e[40](n)}let p={};return e[16]!==void 0&&(p.selected_elements=e[16]),e[15]!==void 0&&(p.elements=e[15]),s=new Oe({props:p}),Q.push(()=>X(s,"selected_elements",o)),Q.push(()=>X(s,"elements",i)),s.$on("selection-changed",e[41]),{c(){t=w("h4"),t.textContent=l,a=j(),we(s.$$.fragment)},l(n){t=C(n,"H4",{"data-svelte-h":!0}),de(t)!=="svelte-ad5jza"&&(t.textContent=l),a=z(n),Ce(s.$$.fragment,n)},m(n,_){S(n,t,_),S(n,a,_),Ee(s,n,_),r=!0},p(n,_){const u={};!f&&_[0]&65536&&(f=!0,u.selected_elements=n[16],W(()=>f=!1)),!c&&_[0]&32768&&(c=!0,u.elements=n[15],W(()=>c=!1)),s.$set(u)},i(n){r||(v(s.$$.fragment,n),r=!0)},o(n){D(s.$$.fragment,n),r=!1},d(n){n&&(b(t),b(a)),De(s,n)}}}function _t(e){let t,l="Cost of Carrier",a,s,f,c,r;function o(n){e[42](n)}function i(n){e[43](n)}let p={};return e[7]!==void 0&&(p.selected_elements=e[7]),e[18]!==void 0&&(p.elements=e[18]),s=new Oe({props:p}),Q.push(()=>X(s,"selected_elements",o)),Q.push(()=>X(s,"elements",i)),s.$on("selection-changed",e[44]),{c(){t=w("h3"),t.textContent=l,a=j(),we(s.$$.fragment)},l(n){t=C(n,"H3",{"data-svelte-h":!0}),de(t)!=="svelte-bhb6z8"&&(t.textContent=l),a=z(n),Ce(s.$$.fragment,n)},m(n,_){S(n,t,_),S(n,a,_),Ee(s,n,_),r=!0},p(n,_){const u={};!f&&_[0]&128&&(f=!0,u.selected_elements=n[7],W(()=>f=!1)),!c&&_[0]&262144&&(c=!0,u.elements=n[18],W(()=>c=!1)),s.$set(u)},i(n){r||(v(s.$$.fragment,n),r=!0)},o(n){D(s.$$.fragment,n),r=!1},d(n){n&&(b(t),b(a)),De(s,n)}}}function ut(e){let t,l="Shed Demand",a,s,f,c,r;function o(n){e[45](n)}function i(n){e[46](n)}let p={};return e[8]!==void 0&&(p.selected_elements=e[8]),e[19]!==void 0&&(p.elements=e[19]),s=new Oe({props:p}),Q.push(()=>X(s,"selected_elements",o)),Q.push(()=>X(s,"elements",i)),s.$on("selection-changed",e[47]),{c(){t=w("h3"),t.textContent=l,a=j(),we(s.$$.fragment)},l(n){t=C(n,"H3",{"data-svelte-h":!0}),de(t)!=="svelte-13kd4c5"&&(t.textContent=l),a=z(n),Ce(s.$$.fragment,n)},m(n,_){S(n,t,_),S(n,a,_),Ee(s,n,_),r=!0},p(n,_){const u={};!f&&_[0]&256&&(f=!0,u.selected_elements=n[8],W(()=>f=!1)),!c&&_[0]&524288&&(c=!0,u.elements=n[19],W(()=>c=!1)),s.$set(u)},i(n){r||(v(s.$$.fragment,n),r=!0)},o(n){D(s.$$.fragment,n),r=!1},d(n){n&&(b(t),b(a)),De(s,n)}}}function ht(e){let t,l="Location",a,s,f,c;function r(i){e[51](i)}let o={elements:e[3]};return e[4]!==void 0&&(o.selected_elements=e[4]),s=new Oe({props:o}),Q.push(()=>X(s,"selected_elements",r)),s.$on("selection-changed",e[52]),{c(){t=w("h3"),t.textContent=l,a=j(),we(s.$$.fragment)},l(i){t=C(i,"H3",{"data-svelte-h":!0}),de(t)!=="svelte-15gguv3"&&(t.textContent=l),a=z(i),Ce(s.$$.fragment,i)},m(i,p){S(i,t,p),S(i,a,p),Ee(s,i,p),c=!0},p(i,p){const n={};p[0]&8&&(n.elements=i[3]),!f&&p[0]&16&&(f=!0,n.selected_elements=i[4],W(()=>f=!1)),s.$set(n)},i(i){c||(v(s.$$.fragment,i),c=!0)},o(i){D(s.$$.fragment,i),c=!1},d(i){i&&(b(t),b(a)),De(s,i)}}}function pt(e){let t,l="Year",a,s,f,c;function r(i){e[53](i)}let o={elements:e[2]};return e[6]!==void 0&&(o.selected_elements=e[6]),s=new Oe({props:o}),Q.push(()=>X(s,"selected_elements",r)),s.$on("selection-changed",e[54]),{c(){t=w("h3"),t.textContent=l,a=j(),we(s.$$.fragment)},l(i){t=C(i,"H3",{"data-svelte-h":!0}),de(t)!=="svelte-r9e7qt"&&(t.textContent=l),a=z(i),Ce(s.$$.fragment,i)},m(i,p){S(i,t,p),S(i,a,p),Ee(s,i,p),c=!0},p(i,p){const n={};p[0]&4&&(n.elements=i[2]),!f&&p[0]&64&&(f=!0,n.selected_elements=i[6],W(()=>f=!1)),s.$set(n)},i(i){c||(v(s.$$.fragment,i),c=!0)},o(i){D(s.$$.fragment,i),c=!1},d(i){i&&(b(t),b(a)),De(s,i)}}}function zt(e){let t,l,a,s;const f=[Bt,At],c=[];function r(o,i){return o[23].data.datasets.length==0||o[23].data.datasets[0].data.length==0?0:1}return t=r(e),l=c[t]=f[t](e),{c(){l.c(),a=nt()},l(o){l.l(o),a=nt()},m(o,i){c[t].m(o,i),S(o,a,i),s=!0},p(o,i){let p=t;t=r(o),t===p?c[t].p(o,i):(ye(),D(c[p],1,1,()=>{c[p]=null}),ke(),l=c[t],l?l.p(o,i):(l=c[t]=f[t](o),l.c()),v(l,1),l.m(a.parentNode,a))},i(o){s||(v(l),s=!0)},o(o){D(l),s=!1},d(o){o&&b(a),c[t].d(o)}}}function qt(e){let t,l='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){t=w("div"),t.innerHTML=l,this.h()},l(a){t=C(a,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1a5ljpq"&&(t.innerHTML=l),this.h()},h(){y(t,"class","text-center")},m(a,s){S(a,t,s)},p:Me,i:Me,o:Me,d(a){a&&b(t)}}}function At(e){let t,l,a,s;function f(o){e[55](o)}function c(o){e[56](o)}let r={};return e[23]!==void 0&&(r.config=e[23]),e[5].detail.system.reference_year!==void 0&&(r.year_offset=e[5].detail.system.reference_year),t=new Lt({props:r}),Q.push(()=>X(t,"config",f)),Q.push(()=>X(t,"year_offset",c)),{c(){we(t.$$.fragment)},l(o){Ce(t.$$.fragment,o)},m(o,i){Ee(t,o,i),s=!0},p(o,i){const p={};!l&&i[0]&8388608&&(l=!0,p.config=o[23],W(()=>l=!1)),!a&&i[0]&32&&(a=!0,p.year_offset=o[5].detail.system.reference_year,W(()=>a=!1)),t.$set(p)},i(o){s||(v(t.$$.fragment,o),s=!0)},o(o){D(t.$$.fragment,o),s=!1},d(o){De(t,o)}}}function Bt(e){let t,l="No data with this selection.";return{c(){t=w("div"),t.textContent=l,this.h()},l(a){t=C(a,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1doxial"&&(t.textContent=l),this.h()},h(){y(t,"class","text-center")},m(a,s){S(a,t,s)},p:Me,i:Me,o:Me,d(a){a&&b(t)}}}function Nt(e){let t,l="Costs",a,s,f,c,r,o,i,p='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',n,_,u,g,A,M,te,ue,he,L,be,J,T,O,B,oe;function pe(m){e[26](m)}function ne(m){e[27](m)}function ge(m){e[28](m)}function I(m){e[29](m)}function ce(m){e[30](m)}let He={enabled:!e[9]&&!e[10]};e[0]!==void 0&&(He.carriers=e[0]),e[1]!==void 0&&(He.nodes=e[1]),e[2]!==void 0&&(He.years=e[2]),e[5]!==void 0&&(He.selected_solution=e[5]),e[9]!==void 0&&(He.loading=e[9]),g=new St({props:He}),Q.push(()=>X(g,"carriers",pe)),Q.push(()=>X(g,"nodes",ne)),Q.push(()=>X(g,"years",ge)),Q.push(()=>X(g,"selected_solution",I)),Q.push(()=>X(g,"loading",ce)),g.$on("solution_selected",e[25]);let N=!e[10]&&!e[9]&&e[17]&&e[5]!=null&&at(e);const ae=[qt,zt],K=[];function Te(m,q){return m[9]||m[10]?0:m[5]!=null?1:-1}return~(O=Te(e))&&(B=K[O]=ae[O](e)),{c(){t=w("h2"),t.textContent=l,a=j(),s=w("div"),f=w("div"),c=w("div"),r=w("div"),o=w("div"),i=w("h2"),i.innerHTML=p,n=j(),_=w("div"),u=w("div"),we(g.$$.fragment),L=j(),N&&N.c(),be=j(),J=w("div"),T=w("div"),B&&B.c(),this.h()},l(m){t=C(m,"H2",{"data-svelte-h":!0}),de(t)!=="svelte-lt28jw"&&(t.textContent=l),a=z(m),s=C(m,"DIV",{class:!0});var q=U(s);f=C(q,"DIV",{class:!0,style:!0});var ie=U(f);c=C(ie,"DIV",{class:!0,style:!0});var fe=U(c);r=C(fe,"DIV",{class:!0,id:!0});var V=U(r);o=C(V,"DIV",{class:!0});var Se=U(o);i=C(Se,"H2",{class:!0,"data-svelte-h":!0}),de(i)!=="svelte-64kjki"&&(i.innerHTML=p),n=z(Se),_=C(Se,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var P=U(_);u=C(P,"DIV",{class:!0});var F=U(u);Ce(g.$$.fragment,F),F.forEach(b),P.forEach(b),Se.forEach(b),L=z(V),N&&N.l(V),V.forEach(b),fe.forEach(b),ie.forEach(b),q.forEach(b),be=z(m),J=C(m,"DIV",{class:!0});var R=U(J);T=C(R,"DIV",{class:!0,style:!0});var Y=U(T);B&&B.l(Y),Y.forEach(b),R.forEach(b),this.h()},h(){y(i,"class","accordion-header"),y(u,"class","accordion-body"),y(_,"id","collapseOne"),y(_,"class","accordion-collapse collapse show"),y(_,"data-bs-parent","#accordionExample"),y(o,"class","accordion-item solution-selection"),y(r,"class","accordion"),y(r,"id","accordionExample"),y(c,"class","filters"),Be(c,"position","absolute"),Be(c,"width","100%"),y(f,"class","col position-relative"),Be(f,"z-index","1"),Be(f,"position","relative"),y(s,"class","row"),y(T,"class","col"),Be(T,"margin-top","400px"),y(J,"class","row")},m(m,q){S(m,t,q),S(m,a,q),S(m,s,q),k(s,f),k(f,c),k(c,r),k(r,o),k(o,i),k(o,n),k(o,_),k(_,u),Ee(g,u,null),k(r,L),N&&N.m(r,null),S(m,be,q),S(m,J,q),k(J,T),~O&&K[O].m(T,null),oe=!0},p(m,q){const ie={};q[0]&1536&&(ie.enabled=!m[9]&&!m[10]),!A&&q[0]&1&&(A=!0,ie.carriers=m[0],W(()=>A=!1)),!M&&q[0]&2&&(M=!0,ie.nodes=m[1],W(()=>M=!1)),!te&&q[0]&4&&(te=!0,ie.years=m[2],W(()=>te=!1)),!ue&&q[0]&32&&(ue=!0,ie.selected_solution=m[5],W(()=>ue=!1)),!he&&q[0]&512&&(he=!0,ie.loading=m[9],W(()=>he=!1)),g.$set(ie),!m[10]&&!m[9]&&m[17]&&m[5]!=null?N?(N.p(m,q),q[0]&132640&&v(N,1)):(N=at(m),N.c(),v(N,1),N.m(r,null)):N&&(ye(),D(N,1,1,()=>{N=null}),ke());let fe=O;O=Te(m),O===fe?~O&&K[O].p(m,q):(B&&(ye(),D(K[fe],1,1,()=>{K[fe]=null}),ke()),~O?(B=K[O],B?B.p(m,q):(B=K[O]=ae[O](m),B.c()),v(B,1),B.m(T,null)):B=null)},i(m){oe||(v(g.$$.fragment,m),v(N),v(B),oe=!0)},o(m){D(g.$$.fragment,m),D(N),D(B),oe=!1},d(m){m&&(b(t),b(a),b(s),b(be),b(J)),De(g),N&&N.d(),~O&&K[O].d()}}}let Pt="not_normalized",G="Techology / Carrier";const Re=" (Capex)",Ye=" (Opex)",mt="Capex",bt="Opex",gt="Carrier",vt="Shed Demand";function Ft(e,t,l){let a=[],s=[],f=[],c=[],r=[],o=null,i=[],p=[],n=[],_=!1,u=!1,g=[],A=[],M=[],te=[],ue=[],he=[],L,be,J,T,O,B,oe=[],pe=[],ne=[G,"Location"],ge=ne[1],I={capex:{title:"Capex",show:!0,subdivision:!1},opex:{title:"Opex",show:!0,subdivision:!1},carrier:{title:"Carrier",show:!0,subdivision:!1},shed_demand:{title:"Shed Demand",show:!0,subdivision:!1},carbon_emission:{title:"Carbon Emissions",show:!0,subdivision:!1}},ce={type:"line",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:"Costs ["+ae()+"]"}}}}};async function He(){if(o!=null){l(10,u=!0),await et(),l(17,T=await Pe(o.solution_name,Fe("capex_yearly",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years)),O=await Pe(o.solution_name,Fe("opex_yearly",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),be=await Pe(o.solution_name,Fe("cost_carbon_emissions_total",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),J=await Pe(o.solution_name,Fe("cost_carrier",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),B=await Pe(o.solution_name,Fe("cost_shed_demand",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),ze(J.data,"node","location"),ze(B.data,"node","location"),ze(O.data,"technology",G),ze(T.data,"technology",G),ze(J.data,"carrier",G),ze(B.data,"carrier",G);for(let d in T.data.data)l(17,T.data.data[d][G]=T.data.data[d][G]+Re,T);for(let d in O.data.data)O.data.data[d][G]=O.data.data[d][G]+Ye;l(3,c=Object.keys(o.detail.edges).concat(o.detail.system.set_nodes)),l(10,u=!1)}}function N(d){l(10,u=!0),L=new Array;let re=structuredClone(J.data);re.data=re.data.filter(H=>p.includes(H[G]));let _e=structuredClone(B.data);if(_e.data=_e.data.filter(H=>n.includes(H[G])),I.capex.show)if(I.capex.subdivision)L=L.concat(T.data.data);else{let H=Ne(T.data.data,{location:r},{[G]:d},[],!1);for(let le in H)H[le].data.location=H[le].label,H[le].data[G]=mt,L.push(H[le].data)}if(I.opex.show)if(I.opex.subdivision)L=L.concat(O.data.data);else{let H=Ne(O.data.data,{location:r},{[G]:d},[],!1);for(let le in H)H[le].data.location=H[le].label,H[le].data[G]=bt,L.push(H[le].data)}if(I.carrier.show)if(I.carrier.subdivision)L=L.concat(re.data);else{let H=Ne(re.data,{location:r},{[G]:d},[],!1);for(let le in H)H[le].data.location=H[le].label,H[le].data[G]=gt,L.push(H[le].data)}if(I.shed_demand.show)if(I.shed_demand.subdivision)L=L.concat(_e.data);else{let H=Ne(_e.data,{location:r},{[G]:d},[],!1);for(let le in H)H[le].data.location=H[le].label,H[le].data[G]=vt,L.push(H[le].data)}if(L.length==0){L=void 0,l(10,u=!1);return}let $=new Set;L=L.filter(H=>H!=null);for(const H of L)$.add(H.location);l(3,c=Array.from($)),l(10,u=!1)}function ae(){return!T||T.unit===null?"":T.unit.data[0][0]}function K(){l(10,u=!0);let d={},re={},_e=[];for(const Ie of he)_e.push(Ie+Re),_e.push(Ie+Ye);for(const Ie of te)_e.push(Ie+Re),_e.push(Ie+Ye);for(const Ie of A)_e.push(Ie+Re),_e.push(Ie+Ye);let $=[..._e,...p,...n];N($),I.capex.subdivision||$.push(mt),I.opex.subdivision||$.push(bt),I.carrier.subdivision||$.push(gt),I.shed_demand.subdivision||$.push(vt),ge==ne[0]?(d.location=c,re[G]=$):(d[G]=$,re.location=r);let H=f.filter(Ie=>!i.includes(Ie)),le=Pt=="normalized",xe=[];L&&(xe=Ne(L,d,re,H,le)),be.data.data.length>0&&I.carbon_emission.show&&xe.push({label:"Total Carbon Costs",data:be.data.data[0],type:"bar"}),et().then(()=>{l(23,ce.data={datasets:xe},ce),l(23,ce.options.scales.y.title.text="Costs ["+ae()+"]",ce),l(10,u=!1)})}async function Te(){if(o==null)return;await He(),await et(),l(10,u=!0);let d=new Set;for(const $ of T.data.data)d.add($[G].replace(Re,""));for(const $ of O.data.data)d.add($[G].replace(Ye,""));l(11,g=o.detail.system.set_transport_technologies.filter($=>d.has($))),l(15,ue=o.detail.system.set_conversion_technologies.filter($=>d.has($))),l(13,M=o.detail.system.set_storage_technologies.filter($=>d.has($))),l(12,A=g),l(16,he=ue),l(14,te=M);let re=new Set;for(const $ of J.data.data)re.add($[G]);l(0,a=o.detail.system.set_carriers),l(18,oe=o.detail.carriers_import.concat(o.detail.carriers_export).filter($=>re.has($))),l(7,p=oe);let _e=new Set;for(const $ of B.data.data)_e.add($[G]);l(19,pe=o.detail.carriers_demand.filter($=>_e.has($))),l(8,n=pe),l(1,s=o.detail.system.set_nodes),l(6,i=f),l(4,r=c),K(),l(10,u=!1)}function m(d){a=d,l(0,a)}function q(d){s=d,l(1,s)}function ie(d){f=d,l(2,f)}function fe(d){o=d,l(5,o)}function V(d){_=d,l(9,_)}function Se(d,re){e.$$.not_equal(I[re].show,d)&&(I[re].show=d,l(22,I))}function P(d,re){e.$$.not_equal(I[re].subdivision,d)&&(I[re].subdivision=d,l(22,I))}function F(d){A=d,l(12,A)}function R(d){g=d,l(11,g)}const Y=()=>{K()};function Z(d){te=d,l(14,te)}function Xe(d){M=d,l(13,M)}const Ze=()=>{K()};function qe(d){he=d,l(16,he)}function x(d){ue=d,l(15,ue)}const ee=()=>{K()};function h(d){p=d,l(7,p)}function E(d){oe=d,l(18,oe)}const ve=()=>{K()};function se(d){n=d,l(8,n)}function Ve(d){pe=d,l(19,pe)}const Ge=()=>{K()};function me(d){ne=d,l(20,ne)}function $e(d){ge=d,l(21,ge)}const Ue=d=>{K()};function Je(d){r=d,l(4,r)}const Le=d=>{K()};function Ke(d){i=d,l(6,i)}const je=d=>{K()};function Ae(d){ce=d,l(23,ce)}function Dt(d){e.$$.not_equal(o.detail.system.reference_year,d)&&(o.detail.system.reference_year=d,l(5,o))}return[a,s,f,c,r,o,i,p,n,_,u,g,A,M,te,ue,he,T,oe,pe,ne,ge,I,ce,K,Te,m,q,ie,fe,V,Se,P,F,R,Y,Z,Xe,Ze,qe,x,ee,h,E,ve,se,Ve,Ge,me,$e,Ue,Je,Le,Ke,je,Ae,Dt]}class Kt extends wt{constructor(t){super(),Ct(this,t,Ft,Nt,kt,{},null,[-1,-1,-1])}}export{Kt as component};
