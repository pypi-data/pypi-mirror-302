"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4950],{99478:function(e,n,t){t.d(n,{CY:function(){return I},N9:function(){return P}});var r=t(73235),s=t(52322),i=t(2784),o=t(7267),a=t(67126),l=t(59920),p=t(24207),d=t(36381),h=t(20958),c=t(78491),u=t(69737),x=t(53448),m=t(44900),g=t(75442),j=t(20171),f=t(39593),v=t(59923),S=t(92199);function y(){let e=(0,r._)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}let I=()=>{(0,u.Px)();let e=(0,o.UO)(),n=(0,d.p3)(e["0"]),{pipelineName:t,snapshotId:r}=n,i=(0,o.k6)();return(0,j.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,s.jsx)(P,{explorerPath:n,onChangeExplorerPath:(e,n)=>{i[n]("/snapshots/".concat((0,d.gY)(e)))},onNavigateToSourceAssetNode:(e,n)=>{let{assetKey:t}=n,r=(0,g.p)(t);e.metaKey?window.open(r,"_blank"):i.push((0,g.p)(t))}})},P=e=>{var n;let{explorerPath:t,repoAddress:r,onChangeExplorerPath:o,onNavigateToSourceAssetNode:d,isGraph:c=!1}=e,[u,g]=(0,i.useState)({explodeComposites:null!==(n=t.explodeComposites)&&void 0!==n&&n,preferAssetRendering:!0}),j=t.opNames.slice(0,t.opNames.length-1),f=(0,S._T)(r||null,t.pipelineName),y=(0,h.aM)(E,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:f,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:j.join("."),requestScopeHandleID:u.explodeComposites?void 0:j.join(".")}});return(0,s.jsx)(v.g,{queryResult:y,children:e=>{let{pipelineSnapshotOrError:n}=e;if("PipelineSnapshot"!==n.__typename)return(0,s.jsx)(p.Q,{isGraph:c,result:n,repoAddress:r});let i=n.solidHandle,h=u.explodeComposites?(0,a.i)(n.solidHandles):n.solidHandles,j=n.solidHandles.some(e=>e.solid.definition.assetNodes.length>0);return u.preferAssetRendering&&j?(0,s.jsx)(x.OK,{options:u,setOptions:g,fetchOptions:{pipelineSelector:f},explorerPath:t,onChangeExplorerPath:o,onNavigateToSourceAssetNode:d,viewType:m._4.JOB}):(0,s.jsx)(l.m0,{options:u,setOptions:g,explorerPath:t,onChangeExplorerPath:o,container:n,repoAddress:r,handles:h,parentHandle:i||void 0,isGraph:c,getInvocations:e=>h.filter(n=>n.solid.definition.name===e).map(e=>({handleID:e.handleID}))})}})},E=(0,h.Ps)(y(),f.i,l.Sm,l.Q,l.bg,c.B)},21473:function(e,n,t){t.d(n,{G:function(){return D}});var r=t(73235),s=t(52322),i=t(49853),o=t(49308),a=t(14934),l=t(37483),p=t(43212),d=t(89891),h=t(80122),c=t(63019),u=t(2784),x=t(7267),m=t(36381),g=t(76016),j=t(20958),f=t(78491),v=t(16336),S=t(69737),y=t(71902),I=t(30916),P=t(43984),E=t(33182),b=t(52338),R=t(15332),_=t(88610),C=t(59923),H=t(85062),N=t(92199),F=t(22563),O=t(10539);function $(){let e=(0,r._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return $=function(){return e},e}let A=["status","tag","id","created_date_before","created_date_after"],D=e=>{(0,S.Px)();let{pipelinePath:n}=(0,x.UO)(),{repoAddress:t=null}=e,r=(0,m.p3)(n),{pipelineName:c,snapshotId:j}=r,f=(0,N.Ux)(t),I=(0,N.E8)(f,c);(0,g.b)(r,I);let[_,O]=(0,b.oD)(A),$=(0,u.useMemo)(()=>[I?{token:"job",value:c}:{token:"pipeline",value:c},j?{token:"snapshotId",value:j}:null].filter(Boolean),[I,c,j]),D=[..._,...$];if(t){let e={token:"tag",value:"".concat(P.H.RepositoryLabelTag,"=").concat((0,F.Wg)(t))};D.push(e)}let{queryResult:k,paginationProps:Y}=(0,R.l)({query:T,pageSize:25,variables:{filter:{...(0,b.VH)(D),pipelineName:c,snapshotId:j}},nextCursorForResult:e=>{var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}),q=(0,u.useCallback)(e=>{let n=(0,i.HY)(e);_.some(e=>(0,i.HY)(e)===n)||O([..._,e])},[_,O]),G=(0,v.C4)(k,v.dT),{button:U,activeFiltersJsx:Q}=(0,b.Vv)({enabledFilters:A,tokens:_,onChange:O,loading:k.loading});return(0,s.jsx)(E.Lw.Provider,{value:{refetch:k.refetch},children:(0,s.jsx)(o.T,{children:(0,s.jsx)(C.g,{queryResult:k,allowStaleData:!0,children:e=>{let{pipelineRunsOrError:r}=e;if("Runs"!==r.__typename)return(0,s.jsx)(a.x,{padding:{vertical:64},children:(0,s.jsx)(l.t,{icon:"error",title:"Query Error",description:r.message})});let i=r.results.slice(0,25),{hasNextCursor:o,hasPrevCursor:u}=Y;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.Y,{$top:0,children:(0,s.jsx)(y.A,{runs:i,onAddTag:q,actionBarComponents:(0,s.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[U,(0,s.jsx)(v.xi,{refreshState:G})]}),belowActionBarComponents:(0,s.jsxs)(s.Fragment,{children:[$.map(e=>{let{token:n,value:t}=e;return(0,s.jsx)(p.V,{children:"".concat(n,":").concat(t)},n)}),Q.length?(0,s.jsxs)(s.Fragment,{children:[Q,(0,s.jsx)(d.Z,{onClick:()=>{O([])},children:"Clear all"})]}):null]}),emptyState:()=>(0,s.jsx)(w,{repoAddress:t,anyFilter:_.length>0,jobName:c,jobPath:n})})}),o||u?(0,s.jsx)("div",{style:{marginTop:"20px"},children:(0,s.jsx)(h.pI,{...Y})}):null]})}})})})},w=e=>{let{repoAddress:n,anyFilter:t,jobName:r,jobPath:i}=e,o=(0,N.Ux)(n),p=(0,N.Hb)(o,r);return(0,s.jsx)(a.x,{padding:{vertical:64},children:(0,s.jsx)(l.t,{icon:"run",title:"No runs found",description:n?p?(0,s.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,s.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,s.jsx)("div",{children:(0,s.jsx)(_.A,{icon:(0,s.jsx)(c.JO,{name:"materialization"}),to:(0,O.$U)(n,"/jobs/".concat(i)),children:"Materialize an asset"})})]}):(0,s.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,s.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,s.jsx)("div",{children:(0,s.jsx)(_.A,{icon:(0,s.jsx)(c.JO,{name:"add_circle"}),to:(0,O.$U)(n,"/jobs/".concat(i,"/playground")),children:"Launch a run"})})]}):(0,s.jsx)("div",{children:"You have not launched any runs for this job."})})})},T=(0,j.Ps)($(),I.Z,f.B)},84950:function(e,n,t){t.r(n),t.d(n,{SnapshotRoot:function(){return P},default:function(){return E}});var r=t(52322),s=t(7267),i=t(99478),o=t(73235),a=t(43212),l=t(74580),p=t(35292),d=t(74188),h=t(73407),c=t(47933),u=t(20958),x=t(36381),m=t(89918),g=t(92199),j=t(10539);function f(){let e=(0,o._)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]);return f=function(){return e},e}let v=(0,u.Ps)(f()),S=e=>{var n,t;let{activeTab:s="",explorerPath:i}=e,{pipelineName:o,snapshotId:f=""}=i,S=(0,x.gY)({...i,opNames:[]}),y=(0,g.Nc)(o),I=null==y?void 0:y.pipelineSnapshotId,{data:P,loading:E}=(0,u.aM)(v,{variables:{snapshotId:f}});return(0,r.jsx)(l.m,{title:(0,r.jsx)(p.X6,{style:{fontFamily:d.b.monospace,fontSize:"16px"},children:null===(n=i.snapshotId)||void 0===n?void 0:n.slice(0,8)}),tags:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.V,{icon:"schema",children:["Snapshot of"," ",(0,r.jsx)(c.rU,{to:(0,j.r4)(i.pipelineName),children:i.pipelineName})]}),E?(0,r.jsx)(a.V,{intent:"none",minimal:!0,children:"..."}):I&&(I===f||(null==P?void 0:P.pipelineSnapshotOrError.__typename)!=="PipelineSnapshot"||(null==P?void 0:null===(t=P.pipelineSnapshotOrError)||void 0===t?void 0:t.parentSnapshotId)===I)?(0,r.jsx)(a.V,{intent:"success",minimal:!0,children:"Current"}):(0,r.jsx)(a.V,{intent:"warning",minimal:!0,children:"Snapshot"})]}),tabs:(0,r.jsx)(h.mQ,{selectedTabId:s,children:[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(S)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(S,"runs")}].map(e=>{let{href:n,text:t,pathComponent:s}=e;return(0,r.jsx)(m.f,{id:s,title:t,to:n},t)})})})};var y=t(17872),I=t(21473);let P=()=>{let{pipelinePath:e,tab:n}=(0,s.UO)(),t=(0,x.p3)(e);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,r.jsx)(S,{activeTab:n,explorerPath:t}),(0,r.jsxs)(s.rs,{children:[(0,r.jsx)(y.A,{path:"/snapshots/:pipelinePath/runs",children:(0,r.jsx)(I.G,{})}),(0,r.jsx)(y.A,{path:"/snapshots/(/?.*)",children:(0,r.jsx)(i.CY,{})})]})]})};var E=P}}]);
//# sourceMappingURL=4950.f188798dc3effb17.js.map